{
  "finished_at": "2026-01-20T04:58:13.468765Z",
  "meta": {
    "attempt": 1,
    "request_fingerprint": "2febdcae8491b6e5",
    "tag": "rest_pr_files_pr2331_page1"
  },
  "request": {
    "body": null,
    "headers": {
      "Accept": "application/vnd.github+json",
      "X-GitHub-Api-Version": "2022-11-28"
    },
    "method": "GET",
    "url": "https://api.github.com/repos/openai/openai-agents-python/pulls/2331/files?per_page=100&page=1"
  },
  "response": {
    "headers": {
      "access-control-allow-origin": "*",
      "access-control-expose-headers": "ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset",
      "cache-control": "private, max-age=60, s-maxage=60",
      "content-length": "2202",
      "content-security-policy": "default-src 'none'",
      "content-type": "application/json; charset=utf-8",
      "date": "Tue, 20 Jan 2026 04:58:13 GMT",
      "etag": "\"572615ffdb859fdeade56e662b5554fc3640312db07919ef5d762be8d2f1ce1e\"",
      "github-authentication-token-expiration": "2026-02-19 04:41:20 UTC",
      "last-modified": "Mon, 19 Jan 2026 11:04:38 GMT",
      "referrer-policy": "origin-when-cross-origin, strict-origin-when-cross-origin",
      "server": "github.com",
      "strict-transport-security": "max-age=31536000; includeSubdomains; preload",
      "vary": "Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With",
      "x-accepted-oauth-scopes": "",
      "x-content-type-options": "nosniff",
      "x-frame-options": "deny",
      "x-github-api-version-selected": "2022-11-28",
      "x-github-media-type": "github.v3; format=json",
      "x-github-request-id": "DD1B:F2819:16A4FEC:1FB0749:696F0B65",
      "x-oauth-scopes": "repo",
      "x-ratelimit-limit": "5000",
      "x-ratelimit-remaining": "4929",
      "x-ratelimit-reset": "1768885989",
      "x-ratelimit-resource": "core",
      "x-ratelimit-used": "71",
      "x-xss-protection": "0"
    },
    "json": [
      {
        "additions": 5,
        "blob_url": "https://github.com/openai/openai-agents-python/blob/899528a1b923e2a7cb243f725528d14947d9b2d3/src%2Fagents%2Fextensions%2Fmodels%2Flitellm_model.py",
        "changes": 9,
        "contents_url": "https://api.github.com/repos/openai/openai-agents-python/contents/src%2Fagents%2Fextensions%2Fmodels%2Flitellm_model.py?ref=899528a1b923e2a7cb243f725528d14947d9b2d3",
        "deletions": 4,
        "filename": "src/agents/extensions/models/litellm_model.py",
        "patch": "@@ -364,8 +364,9 @@ async def _fetch_response(\n             model=self.model,\n         )\n \n-        # Fix for interleaved thinking bug: reorder messages to ensure tool_use comes before tool_result  # noqa: E501\n-        if \"anthropic\" in self.model.lower() or \"claude\" in self.model.lower():\n+        # Fix message ordering: reorder to ensure tool_use comes before tool_result.\n+        # Required for Anthropic and Vertex AI Gemini APIs which reject tool responses without preceding tool calls.  # noqa: E501\n+        if any(model.lower() in self.model.lower() for model in [\"anthropic\", \"claude\", \"gemini\"]):\n             converted_messages = self._fix_tool_message_ordering(converted_messages)\n \n         # Convert Google's extra_content to litellm's provider_specific_fields format\n@@ -588,8 +589,8 @@ def _fix_tool_message_ordering(\n         \"\"\"\n         Fix the ordering of tool messages to ensure tool_use messages come before tool_result messages.\n \n-        This addresses the interleaved thinking bug where conversation histories may contain\n-        tool results before their corresponding tool calls, causing Anthropic API to reject the request.\n+        Required for Anthropic and Vertex AI Gemini APIs which require tool calls to immediately\n+        precede their corresponding tool responses in conversation history.\n         \"\"\"  # noqa: E501\n         if not messages:\n             return messages",
        "raw_url": "https://github.com/openai/openai-agents-python/raw/899528a1b923e2a7cb243f725528d14947d9b2d3/src%2Fagents%2Fextensions%2Fmodels%2Flitellm_model.py",
        "sha": "3fb0c20ea168d2879311b3524c986ba811cdb6c6",
        "status": "modified"
      }
    ],
    "status": 200
  },
  "started_at": "2026-01-20T04:58:13.069286Z"
}
