{
  "finished_at": "2026-01-20T04:52:56.247660Z",
  "meta": {
    "attempt": 1,
    "request_fingerprint": "2edf01d124705b02",
    "tag": "discovery_issue_page1"
  },
  "request": {
    "body": null,
    "headers": {
      "Accept": "application/vnd.github+json",
      "X-GitHub-Api-Version": "2022-11-28"
    },
    "method": "GET",
    "url": "https://api.github.com/search/issues?q=repo%3Aopenai%2Fopenai-agents-python+is%3Aissue+state%3Aclosed+closed%3A2026-01-06..2026-01-20&per_page=100&page=1"
  },
  "response": {
    "headers": {
      "access-control-allow-origin": "*",
      "access-control-expose-headers": "ETag, Link, Location, Retry-After, X-GitHub-OTP, X-RateLimit-Limit, X-RateLimit-Remaining, X-RateLimit-Used, X-RateLimit-Resource, X-RateLimit-Reset, X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Poll-Interval, X-GitHub-Media-Type, X-GitHub-SSO, X-GitHub-Request-Id, Deprecation, Sunset",
      "cache-control": "no-cache",
      "content-length": "233128",
      "content-security-policy": "default-src 'none'",
      "content-type": "application/json; charset=utf-8",
      "date": "Tue, 20 Jan 2026 04:52:56 GMT",
      "github-authentication-token-expiration": "2026-02-19 04:41:20 UTC",
      "referrer-policy": "origin-when-cross-origin, strict-origin-when-cross-origin",
      "server": "github.com",
      "strict-transport-security": "max-age=31536000; includeSubdomains; preload",
      "vary": "Accept, Authorization, Cookie, X-GitHub-OTP,Accept-Encoding, Accept, X-Requested-With",
      "x-accepted-oauth-scopes": "",
      "x-content-type-options": "nosniff",
      "x-frame-options": "deny",
      "x-github-api-version-selected": "2022-11-28",
      "x-github-media-type": "github.v3; format=json",
      "x-github-request-id": "DA56:365621:16BC1A9:1FC5865:696F0A27",
      "x-oauth-scopes": "repo",
      "x-ratelimit-limit": "30",
      "x-ratelimit-remaining": "28",
      "x-ratelimit-reset": "1768884834",
      "x-ratelimit-resource": "search",
      "x-ratelimit-used": "2",
      "x-xss-protection": "0"
    },
    "json": {
      "incomplete_results": false,
      "items": [
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "**Issue:** Confusing Python syntax in `docs/context.md` (local context example)\n\nIn `openai-agents-python/docs/context.md` (around line 13, under the local context bullet points):\n\n```python\nRunner.run(..., **context=whatever**)\n```\nis confusing and uses invalid Python syntax. Although it renders correctly in Markdown, **context=whatever is not valid Python and is misleading readers into thinking _kwargs unpacking_ or some special expansion is occurring. Just found it a bit confusing at first.\n\n**Fix:** If the intent is to show a standard keyword argument, it should be:\n```python\nRunner.run(..., context=whatever)\n```",
          "closed_at": "2026-01-20T02:20:08Z",
          "comments": 0,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2335/comments",
          "created_at": "2026-01-19T21:15:24Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2335/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2335",
          "id": 3831225063,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0075ca",
              "default": true,
              "description": "Improvements or additions to documentation",
              "id": 8274131143,
              "name": "documentation",
              "node_id": "LA_kwDOOGidp88AAAAB7S04xw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/documentation"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2335/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87kW9rn",
          "number": 2335,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2335/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2335/timeline",
          "title": "Confusing example on Context Management MD",
          "type": null,
          "updated_at": "2026-01-20T02:20:08Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2335",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/70305211?v=4",
            "events_url": "https://api.github.com/users/TanMan-CAL/events{/privacy}",
            "followers_url": "https://api.github.com/users/TanMan-CAL/followers",
            "following_url": "https://api.github.com/users/TanMan-CAL/following{/other_user}",
            "gists_url": "https://api.github.com/users/TanMan-CAL/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/TanMan-CAL",
            "id": 70305211,
            "login": "TanMan-CAL",
            "node_id": "MDQ6VXNlcjcwMzA1MjEx",
            "organizations_url": "https://api.github.com/users/TanMan-CAL/orgs",
            "received_events_url": "https://api.github.com/users/TanMan-CAL/received_events",
            "repos_url": "https://api.github.com/users/TanMan-CAL/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/TanMan-CAL/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/TanMan-CAL/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/TanMan-CAL",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Please read this first\n\n- **Have you read the docs?**[Agents SDK docs](https://openai.github.io/openai-agents-python/) yes\n- **Have you searched for related issues?** Others may have faced similar issues. yes\n\n### Describe the bug\nAfter upgrading the version, when using OpenAIResponsesCompactionSession to compress session information, if store = False is set when creating the agent, an error will be reported during the compression process, indicating that the Response ID does not exist\n\n### Debug information\n- Agents SDK version: (e.g. `v0.6.7`)\n- Python version (e.g. Python 3.12)\n\n### Repro steps\n\n```\nasync def customer_agent():\n    redis_client = redis.get_async_client()\n    \n    try:\n        redis_session = RedisSession(\n            session_id=\"demo-session-1\",\n            redis_client=redis_client,\n            ttl=60*60*24,\n        )\n\n        session = OpenAIResponsesCompactionSession(\n            session_id=\"demo-session-1\",\n            underlying_session=redis_session,\n            model=\"gpt-4.1\",\n            # Custom compaction trigger (default is 10 candidates)\n            should_trigger_compaction=lambda ctx: len(ctx[\"compaction_candidate_items\"]) >= 4,\n        )\n        agent = Agent(name=\"Assistant\",\n                      model=\"gpt-5.2\",\n                      tools=[],\n                      model_settings=ModelSettings(store=False),\n                      instructions=\"\"\"\n                                     Reply concisely. Keep answers to 1-2 sentences.\n                                     \"\"\")\n\n        prompts = [\n            \"What is the tallest mountain in the world?\",\n            \"How tall is it in feet?\",\n            \"When was it first climbed?\",\n            \"Who was on that expedition?\",\n            \"What country is the mountain in?\",\n        ]\n\n        print(\"=== Compaction Session Example ===\\n\")\n\n        for i, prompt in enumerate(prompts, 1):\n            print(f\"Turn {i}:\")\n            print(f\"User: {prompt}\")\n            result = await Runner.run(agent, session=session, input=prompt)\n            print(f\"Assistant: {result.final_output}\\n\")\n\n        # Show final session state\n        items = await session.get_items()\n        print(\"=== Final Session State ===\")\n        print(f\"Total items: {len(items)}\")\n        for item in items:\n            # Some inputs are stored as easy messages (only `role` and `content`).\n            item_type = item.get(\"type\") or (\"message\" if \"role\" in item else \"unknown\")\n            if item_type == \"compaction\":\n                print(\"  - compaction (encrypted content)\")\n            elif item_type == \"message\":\n                role = item.get(\"role\", \"unknown\")\n                print(f\"  - message ({role})\")\n            else:\n                print(f\"  - {item_type}\")\n    \n    finally:\n        # Á°Æ‰øù Redis ËøûÊé•Ê≠£Á°ÆÂÖ≥Èó≠\n        await redis_client.aclose()\n\n```\n\n**output**\n\n```\n=== Compaction Session Example ===\n\nTurn 1:\nUser: What is the tallest mountain in the world?\nAssistant: Mount Everest is the tallest mountain in the world, rising about 8,849 meters (29,032 feet) above sea level.\n\nTurn 2:\nUser: How tall is it in feet?\nAssistant: Mount Everest is about **29,032 feet** tall above sea level.\n\nTurn 3:\nUser: When was it first climbed?\nAssistant: Mount Everest was first successfully climbed on **May 29, 1953**, by **Edmund Hillary** and **Tenzing Norgay**.\n\nTurn 4:\nUser: Who was on that expedition?\nTraceback (most recent call last):\n  File \"/Users/abc/www/new-test-gpt/index.py\", line 135, in <module>\n    asyncio.run(customer_agent())\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py\", line 194, in run\n    return runner.run(main)\n           ^^^^^^^^^^^^^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Library/Frameworks/Python.framework/Versions/3.12/lib/python3.12/asyncio/base_events.py\", line 664, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/Users/abc/www/new-test-gpt/index.py\", line 57, in customer_agent\n    result = await Runner.run(agent, session=session, input=prompt)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/abc/www/new-test-gpt/.venv/lib/python3.12/site-packages/agents/run.py\", line 372, in run\n    return await runner.run(\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/abc/www/new-testgpt/.venv/lib/python3.12/site-packages/agents/run.py\", line 753, in run\n    await self._save_result_to_session(\n  File \"/Users/abc/www/new-test-gpt/.venv/lib/python3.12/site-packages/agents/run.py\", line 2124, in _save_result_to_session\n    await session.run_compaction({\"response_id\": response_id, \"force\": force_compaction})\n  File \"/Users/abc/www/new-test-gpt/.venv/lib/python3.12/site-packages/agents/memory/openai_responses_compaction_session.py\", line 160, in run_compaction\n    compacted = await self.client.responses.compact(\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/abc/www/new-test-gpt/.venv/lib/python3.12/site-packages/openai/resources/responses/responses.py\", line 3279, in compact\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"/Users/abc/www/new-test-gpt/.venv/lib/python3.12/site-packages/openai/_base_client.py\", line 1797, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/abc/www/new-test-gpt/.venv/lib/python3.12/site-packages/openai/_base_client.py\", line 1597, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.BadRequestError: Error code: 400 - {'error': {'message': \"Previous response with id 'resp_*****c38ac3' not found.\", 'type': 'invalid_request_error', 'param': 'previous_response_id', 'code': 'previous_response_not_found'}}\n```\n\n\n### Expected behavior\nWhen using compressed session messages, setting ModelSettings(store=False) will not prompt for a non-existent Response ID, and the session can be compressed,\n",
          "closed_at": "2026-01-20T00:35:01Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2333/comments",
          "created_at": "2026-01-19T09:18:00Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2333/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2333",
          "id": 3828760195,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "b2fdef",
              "default": false,
              "description": "",
              "id": 8837299420,
              "name": "feature:core",
              "node_id": "LA_kwDOOGidp88AAAACDr583A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:core"
            },
            {
              "color": "90669a",
              "default": false,
              "description": "",
              "id": 8938534774,
              "name": "feature:sessions",
              "node_id": "LA_kwDOOGidp88AAAACFMc3dg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:sessions"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2333/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87kNj6D",
          "number": 2333,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2333/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2333/timeline",
          "title": "Enable OpenAIResponsesCompactionSession to run in stateless mode",
          "type": null,
          "updated_at": "2026-01-20T00:35:01Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2333",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/38551872?v=4",
            "events_url": "https://api.github.com/users/lijianguo1211/events{/privacy}",
            "followers_url": "https://api.github.com/users/lijianguo1211/followers",
            "following_url": "https://api.github.com/users/lijianguo1211/following{/other_user}",
            "gists_url": "https://api.github.com/users/lijianguo1211/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/lijianguo1211",
            "id": 38551872,
            "login": "lijianguo1211",
            "node_id": "MDQ6VXNlcjM4NTUxODcy",
            "organizations_url": "https://api.github.com/users/lijianguo1211/orgs",
            "received_events_url": "https://api.github.com/users/lijianguo1211/received_events",
            "repos_url": "https://api.github.com/users/lijianguo1211/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/lijianguo1211/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/lijianguo1211/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/lijianguo1211",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Please read this first\n\n- **Have you read the docs?**[Agents SDK docs](https://openai.github.io/openai-agents-python/)\nYes\n- **Have you searched for related issues?** Others may have faced similar issues.\nYes\n\n### Describe the bug\n\nWhen using `OpenAIResponsesCompactionSession` in a streamed run (`Runner.run_streamed`), compaction can be triggered at a point where the `previous_response_id` passed into `client.responses.compact()` corresponds to a model response that includes a `function_call`, but the corresponding `function_call_output` has not yet been incorporated into the server-side response chain. The OpenAI API then returns:\n\n`400 invalid_request_error: No tool output found for function call <call_id>.`\n\nThis appears to happen when compaction is evaluated/run ‚Äúbetween‚Äù a tool call and the subsequent model request that submits the tool output.\n\n**Expected behavior**\n\nCompaction should either:\n- only run on response IDs that are safe to compact (i.e., tool calls have corresponding tool outputs in the chain), or\n- gracefully skip/defer compaction when the response chain isn‚Äôt in a compactable state (instead of failing the whole run).\n\n**Actual behavior**\nA streamed run crashes with `openai.BadRequestError` from `responses.compact`:\n- `No tool output found for function call call_...`\n\n**Why this seems like an SDK/library issue**\nThe local session history can already contain the tool output item (because the SDK executed the tool and stored the output), but `responses.compact(previous_response_id=...)` is called using a response id that‚Äîon the server‚Äîstill has a pending tool call with no matching output yet.\n\n**Reproduction**\n\n1. Run the attached script `repro_compaction_missing_tool_output.py` (below).\n2. It:\n   * forces a tool call (`tool_choice=\"required\"` forces at least one tool call) \n   * returns a large tool output so a token-based compaction trigger fires\n   * uses `Runner.run_streamed` + `OpenAIResponsesCompactionSession`\n3. Observe compaction trigger log and then `400 No tool output found‚Ä¶`.\n\n\n## 2) Minimal repro script\n\n\n```python\nimport asyncio\nimport json\nimport os\nfrom collections.abc import Callable\nfrom typing import Any\n\nimport tiktoken\nfrom loguru import logger\n\nfrom agents import (\n    Agent,\n    OpenAIResponsesCompactionSession,\n    Runner,\n    SQLiteSession,\n    function_tool,\n    model_settings,\n)\n\n# --- Token estimation (rough) ---\n_O200K = tiktoken.get_encoding(\"o200k_base\")\n\n\ndef _stable_json(obj: Any) -> str:\n    try:\n        return json.dumps(obj, separators=(\",\", \":\"), sort_keys=True, ensure_ascii=False)\n    except TypeError:\n        return str(obj)\n\n\ndef _count(text: str) -> int:\n    return len(_O200K.encode(text))\n\n\ndef estimate_item_tokens(item: Any) -> int:\n    \"\"\"\n    Rough token estimator for Responses API items.\n    Good enough to trigger compaction in a reproducible way.\n    \"\"\"\n    if isinstance(item, dict):\n        content = item.get(\"content\")\n        if isinstance(content, str):\n            return _count(content)\n        if isinstance(content, list):\n            total = 0\n            for part in content:\n                if isinstance(part, dict) and part.get(\"type\") == \"input_text\":\n                    total += _count(part.get(\"text\", \"\"))\n                else:\n                    total += _count(_stable_json(part))\n            return total\n        return _count(_stable_json(item))\n    return _count(_stable_json(item))\n\n\ndef estimate_items_tokens(items: list[Any]) -> int:\n    return sum(estimate_item_tokens(it) for it in items)\n\n\ndef make_token_aware_should_trigger_compaction(*, token_limit: int) -> Callable[[dict[str, Any]], bool]:\n    def _hook(ctx: dict[str, Any]) -> bool:\n        session_items = ctx.get(\"session_items\") or []\n        est = estimate_items_tokens(session_items)\n        trigger = est >= token_limit\n\n        if trigger:\n            # Useful debugging: show tail item types, response_id, etc.\n            tail_types = []\n            for it in session_items[-6:]:\n                if isinstance(it, dict):\n                    tail_types.append(it.get(\"type\") or (\"message\" if \"role\" in it else \"unknown\"))\n                else:\n                    tail_types.append(type(it).__name__)\n\n            logger.info(\n                \"Triggering compaction: est_tokens={} token_limit={} items={} candidates={} response_id={} tail_types={}\",\n                est,\n                token_limit,\n                len(session_items),\n                len(ctx.get(\"compaction_candidate_items\") or []),\n                ctx.get(\"response_id\"),\n                tail_types,\n            )\n\n        return trigger\n\n    return _hook\n\n\n# --- Tool that returns a large payload so we exceed token_limit quickly ---\n@function_tool\ndef big_payload() -> str:\n    # ~a few thousand tokens, cheap but enough to trigger compaction\n    return (\"lorem ipsum \" * 4000).strip()\n\n\nasync def main() -> None:\n    # NOTE: ensure OPENAI_API_KEY is set\n    if not os.getenv(\"OPENAI_API_KEY\"):\n        raise RuntimeError(\"Set OPENAI_API_KEY first\")\n\n    # Underlying session store\n    underlying = SQLiteSession(\":memory:\")\n\n    # Compaction session with a low token limit for easy repro\n    session = OpenAIResponsesCompactionSession(\n        session_id=\"repro-session\",\n        underlying_session=underlying,\n        model=\"gpt-4.1\",  \n        should_trigger_compaction=make_token_aware_should_trigger_compaction(token_limit=1500),\n    )\n\n    agent = Agent(\n        name=\"Repro Agent\",\n        instructions=(\n            \"You must call the big_payload tool before responding. \"\n            \"After you receive the tool output, summarize it in one sentence.\"\n        ),\n        model=\"gpt-4.1\",\n        tools=[big_payload],\n        model_settings=model_settings.ModelSettings(\n            # Force at least one tool call per response.\n            tool_choice=\"required\",\n            # Store is needed for response_id chaining; for Responses API it is typically enabled\n            # automatically when not specified, but leaving explicit store=True is OK.\n            store=True,  \n        ),\n    )\n\n    logger.info(\"Starting streamed run...\")\n    run = Runner.run_streamed(\n        starting_agent=agent,\n        input=\"Call the tool now.\",\n        session=session,\n        max_turns=5,\n    )\n\n    # Just drain stream; the crash (if it happens) will surface here.\n    async for _ in run.stream_events():\n        pass\n\n    logger.info(\"Done.\")\n\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### Debug information\n- Agents SDK version: `0.6.6`\n- Python version: `3.13`\n\n\n### Expected behavior\n\nThis should not crash\n",
          "closed_at": "2026-01-16T12:28:01Z",
          "comments": 0,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2317/comments",
          "created_at": "2026-01-16T04:31:26Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2317/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2317",
          "id": 3820299062,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "d73a4a",
              "default": true,
              "description": "Something isn't working",
              "id": 8274131139,
              "name": "bug",
              "node_id": "LA_kwDOOGidp88AAAAB7S04ww",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/bug"
            },
            {
              "color": "90669a",
              "default": false,
              "description": "",
              "id": 8938534774,
              "name": "feature:sessions",
              "node_id": "LA_kwDOOGidp88AAAACFMc3dg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:sessions"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2317/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87jtSM2",
          "number": 2317,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2317/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2317/timeline",
          "title": "Compaction unusable in Runner.run_streamed: responses.compact runs before tool outputs are in chain",
          "type": null,
          "updated_at": "2026-01-16T12:28:01Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2317",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/21352040?v=4",
            "events_url": "https://api.github.com/users/Filimoa/events{/privacy}",
            "followers_url": "https://api.github.com/users/Filimoa/followers",
            "following_url": "https://api.github.com/users/Filimoa/following{/other_user}",
            "gists_url": "https://api.github.com/users/Filimoa/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/Filimoa",
            "id": 21352040,
            "login": "Filimoa",
            "node_id": "MDQ6VXNlcjIxMzUyMDQw",
            "organizations_url": "https://api.github.com/users/Filimoa/orgs",
            "received_events_url": "https://api.github.com/users/Filimoa/received_events",
            "repos_url": "https://api.github.com/users/Filimoa/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/Filimoa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Filimoa/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/Filimoa",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "body": "The [Logger documentation page](https://openai.github.io/openai-agents-python/ref/logger/) in the OpenAI Agents SDK documentation is missing its main content. The page only shows the navigation sidebar and the \"logger\" link in the table of contents, but the actual documentation content explaining how to use the Logger functionality is not present.\n\n<img width=\"1366\" height=\"599\" alt=\"Image\" src=\"https://github.com/user-attachments/assets/8777195a-04cb-4175-bcd0-2c64d0abc2dd\" />\n\n## Expected Behavior\n\nThe Logger documentation page should contain:\n- Overview of the Logger functionality\n- How to enable/configure logging in the Agents SDK\n- Examples of using different logging levels\n- Integration with `enable_verbose_stdout_logging()`\n- How to customize logging output\n- Best practices for debugging agent runs\n\n## Current Behavior\n\n- The page loads with only navigation elements\n- No content is displayed in the main documentation area\n- Users cannot learn about logging capabilities from the documentation\n\n## Impact\n\nThis makes it difficult for developers to:\n- Debug their agent applications\n- Understand how to enable verbose logging\n- Configure custom logging for their use cases\n- Follow best practices for monitoring agent behavior\n\n## Suggested Fix\n\nAdd comprehensive documentation for the Logger module including:\n\n1. **Basic Usage**\n   ```python\n   from agents import enable_verbose_stdout_logging\n   import logging\n   \n   # Enable verbose logging\n   enable_verbose_stdout_logging()\n   \n   # Set log level\n   logging.basicConfig(level=logging.DEBUG)\n   ```\n\n2. **Configuration Options**\n   - How to set different logging levels\n   - Configuring specific loggers (agents, openai, httpx)\n   - Output formatting options\n\n3. **Integration Examples**\n   - Using logging with tracing\n   - Logging to files\n   - Custom log handlers\n\n4. **Debugging Tips**\n   - What information is logged at each level\n   - How to troubleshoot common issues\n   - Reading and interpreting agent logs\n\n\n**Would you like me to contribute documentation for this section?** I'm happy to submit a PR with comprehensive Logger documentation including examples and best practices.",
          "closed_at": "2026-01-15T23:02:18Z",
          "comments": 1,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2314/comments",
          "created_at": "2026-01-15T20:39:21Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2314/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2314",
          "id": 3819084431,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0075ca",
              "default": true,
              "description": "Improvements or additions to documentation",
              "id": 8274131143,
              "name": "documentation",
              "node_id": "LA_kwDOOGidp88AAAAB7S04xw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/documentation"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2314/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87jopqP",
          "number": 2314,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2314/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2314/timeline",
          "title": "Missing Logger Documentation Content",
          "type": null,
          "updated_at": "2026-01-15T23:02:18Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2314",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/160336057?v=4",
            "events_url": "https://api.github.com/users/AbdulSamad94/events{/privacy}",
            "followers_url": "https://api.github.com/users/AbdulSamad94/followers",
            "following_url": "https://api.github.com/users/AbdulSamad94/following{/other_user}",
            "gists_url": "https://api.github.com/users/AbdulSamad94/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/AbdulSamad94",
            "id": 160336057,
            "login": "AbdulSamad94",
            "node_id": "U_kgDOCY6IuQ",
            "organizations_url": "https://api.github.com/users/AbdulSamad94/orgs",
            "received_events_url": "https://api.github.com/users/AbdulSamad94/received_events",
            "repos_url": "https://api.github.com/users/AbdulSamad94/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/AbdulSamad94/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AbdulSamad94/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/AbdulSamad94",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "‰ΩøÁî®verl0.4.1ÂØπqwen2.5vlÂÅögrpoÁöÑÊó∂ÂÄôÔºåÂú®È™åËØÅÈõÜ‰∏äËøõË°åÈ™åËØÅÂêéÔºå‰øùÂ≠òÁöÑloraÊùÉÈáçÂè™Êúâ16BytesÔºåËÆ≠ÁªÉËøáÁ®ã‰∏≠‰∏ÄÂàáÊ≠£Â∏∏\n",
          "closed_at": "2026-01-15T14:15:12Z",
          "comments": 1,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2313/comments",
          "created_at": "2026-01-15T13:33:45Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2313/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2313",
          "id": 3817596801,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2313/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87ji-eB",
          "number": 2313,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2313/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2313/timeline",
          "title": "verl 0.4.1 LoRAÊùÉÈáçÊó†Ê≥ï‰øùÂ≠ò",
          "type": null,
          "updated_at": "2026-01-15T14:15:12Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2313",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/122148902?v=4",
            "events_url": "https://api.github.com/users/QWERTY0205/events{/privacy}",
            "followers_url": "https://api.github.com/users/QWERTY0205/followers",
            "following_url": "https://api.github.com/users/QWERTY0205/following{/other_user}",
            "gists_url": "https://api.github.com/users/QWERTY0205/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/QWERTY0205",
            "id": 122148902,
            "login": "QWERTY0205",
            "node_id": "U_kgDOB0fYJg",
            "organizations_url": "https://api.github.com/users/QWERTY0205/orgs",
            "received_events_url": "https://api.github.com/users/QWERTY0205/received_events",
            "repos_url": "https://api.github.com/users/QWERTY0205/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/QWERTY0205/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/QWERTY0205/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/QWERTY0205",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Please read this first\n\n- **Have you read the docs?**[Agents SDK docs](https://openai.github.io/openai-agents-python/)\n- **Have you searched for related issues?** Others may have had similar requests\n\n### Question\nDescribe your question. Provide details if available.\n\nWhen I want to process the return result of an MCP tool call, how can I get the ID of the currently calling tool so that I can correctly handle the subsequent processing results?\n\n```\n    async def call_tool(self, tool_name: str, arguments: dict[str, Any] | None) -> CallToolResult:\n        \"\"\"Invoke a tool on the server.\"\"\"\n        if not self.session:\n            raise UserError(\"Server not initialized. Make sure you call `connect()` first.\")\n        session = self.session\n        assert session is not None\n\n        return await self._run_with_retries(lambda: session.call_tool(tool_name, arguments))\n```\n\n",
          "closed_at": "2026-01-14T12:37:37Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2301/comments",
          "created_at": "2026-01-13T08:55:43Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2301/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2301",
          "id": 3807847361,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2301/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87i9yPB",
          "number": 2301,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2301/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2301/timeline",
          "title": "How do I get the call_id when I use the SDK to call the MCP tool?",
          "type": null,
          "updated_at": "2026-01-14T12:37:37Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2301",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/17744460?v=4",
            "events_url": "https://api.github.com/users/zhuzi-wang/events{/privacy}",
            "followers_url": "https://api.github.com/users/zhuzi-wang/followers",
            "following_url": "https://api.github.com/users/zhuzi-wang/following{/other_user}",
            "gists_url": "https://api.github.com/users/zhuzi-wang/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/zhuzi-wang",
            "id": 17744460,
            "login": "zhuzi-wang",
            "node_id": "MDQ6VXNlcjE3NzQ0NDYw",
            "organizations_url": "https://api.github.com/users/zhuzi-wang/orgs",
            "received_events_url": "https://api.github.com/users/zhuzi-wang/received_events",
            "repos_url": "https://api.github.com/users/zhuzi-wang/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/zhuzi-wang/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zhuzi-wang/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/zhuzi-wang",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "https://github.com/openai/openai-agents-python/blob/main/examples/basic/stream_function_call_args.py\nhttps://github.com/openai/openai-agents-python/blob/main/examples/basic/stream_items.py\n\nAre there any differences in how function calls and their status are obtained in these two files? I need to obtain the output content of the function call results and determine which specific function call was made based on the function call name. Are there any differences in the function call methods used in these two files?\nI can get the function call name using this method:\n```python\nif event.item.type == \"tool_call_item\":\n```\n\nalso get the function call name using this method \n```python\nif event.data.type == \"response.output_item.added\":\n                if getattr(event.data.item, \"type\", None) == \"function_call\":\n                    function_name = getattr(event.data.item, \"name\", \"unknown\")\n                    call_id = getattr(event.data.item, \"call_id\", \"unknown\")\n\n                    function_calls[call_id] = {\"name\": function_name, \"arguments\": \"\"}\n                    current_active_call_id = call_id\n                    print(f\"\\nüìû Function call streaming started: {function_name}()\")\n                    print(\"üìù Arguments building...\")\n\n            # Real-time argument streaming\n            elif isinstance(event.data, ResponseFunctionCallArgumentsDeltaEvent):\n                if current_active_call_id and current_active_call_id in function_calls:\n                    function_calls[current_active_call_id][\"arguments\"] += event.data.delta\n                    print(event.data.delta, end=\"\", flush=True)\n```\n",
          "closed_at": "2026-01-12T07:29:55Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2296/comments",
          "created_at": "2026-01-12T05:45:52Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2296/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2296",
          "id": 3802852473,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2296/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87iqux5",
          "number": 2296,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2296/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2296/timeline",
          "title": "What are the differences in using different methods for function calls?",
          "type": null,
          "updated_at": "2026-01-12T07:30:25Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2296",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/23112888?v=4",
            "events_url": "https://api.github.com/users/moseshu/events{/privacy}",
            "followers_url": "https://api.github.com/users/moseshu/followers",
            "following_url": "https://api.github.com/users/moseshu/following{/other_user}",
            "gists_url": "https://api.github.com/users/moseshu/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/moseshu",
            "id": 23112888,
            "login": "moseshu",
            "node_id": "MDQ6VXNlcjIzMTEyODg4",
            "organizations_url": "https://api.github.com/users/moseshu/orgs",
            "received_events_url": "https://api.github.com/users/moseshu/received_events",
            "repos_url": "https://api.github.com/users/moseshu/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/moseshu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/moseshu/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/moseshu",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "## Context\n\nWhen using the OpenAI Agents SDK with Sessions (e.g., SQLiteSession), the SDK automatically prepends the entire conversation history to each new user input.\n\nAs a result, input guardrails receive the full conversation, not just the latest user message.\n\n## Problem\n\nThis causes guardrails to repeatedly trigger on past messages, even when the current user input is valid.\n\n## Example scenario:\n\nA user sends an abusive or policy-violating message ‚Üí guardrail triggers.\n\nThe same user then sends a normal message like \"hello\".\n\nBecause the session prepends history, the guardrail still sees the old abusive message and continues to trigger.\n\n## Example Input Seen by Guardrail (with Sessions enabled)\n```json\n[\n  {\"role\": \"user\", \"content\": \"My name is Jao\"},\n  {\"role\": \"assistant\", \"content\": \"Nice to meet you, Jao!\"},\n  {\"role\": \"user\", \"content\": \"book ALL slots for the week\"},  # <-- Old abusive msg (Guardrail Triggered)\n  {\"role\": \"user\", \"content\": \"hello\"}  # <-- Old innocent msg (Guardrail was Triggered),\n  {\"role\": \"user\", \"content\": \"hello hello\"}  # <-- Current innocent msg (Guardrail Still Triggered)\n]\n```\nIn this case, the guardrail evaluates all messages, even though only \"hello\"/\"hello hello\" is the current input.\n\n## Proposed Approach\nExtract and evaluate only the latest user message before running guardrail checks, so each message is judged independently.\n\n## Temporary Solution\n``` Python\nfrom agents import TResponseInputItem\n\n\ndef extract_latest_user_message(input: str | list[TResponseInputItem]) -> str:\n    \"\"\"    \n    This function extracts only the\n    most recent user message for isolated evaluation.\n    \"\"\"\n    # Simple string input (no session/history)\n    if isinstance(input, str):\n        return input\n    \n    # List input (session prepends conversation history)\n    if isinstance(input, list):\n        # Iterate backwards to find the most recent user message\n        for item in reversed(input):\n            if isinstance(item, dict) and item.get(\"role\") == \"user\":\n                content = item.get(\"content\", \"\")\n                \n                # Content can be a string\n                if isinstance(content, str):\n                    return content\n                \n                # Or a list of content blocks (multimodal messages)\n                if isinstance(content, list):\n                    texts = []\n                    for block in content:\n                        if isinstance(block, dict) and block.get(\"type\") == \"text\":\n                            texts.append(block.get(\"text\", \"\"))\n                        elif isinstance(block, str):\n                            texts.append(block)\n                    return \" \".join(texts)\n    \n    # Fallback: convert to string (shouldn't normally reach here)\n    return str(input)\n```\n\n## Question\n\n- Is this the intended behavior of guardrails when using Sessions?\n- Is there a recommended or built-in approach for evaluating only the latest user message in input guardrails?\n- If not, would a utility like extract_latest_user_message() be an acceptable or preferred pattern?\n\n",
          "closed_at": "2026-01-12T02:47:01Z",
          "comments": 4,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2294/comments",
          "created_at": "2026-01-11T17:04:14Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2294/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2294",
          "id": 3801633374,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2294/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87imFJe",
          "number": 2294,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2294/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2294/timeline",
          "title": "Guardrails receive full conversation history when using Sessions ‚Äî is there a recommended way to evaluate only the latest user message?",
          "type": null,
          "updated_at": "2026-01-12T02:47:01Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2294",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/93397590?v=4",
            "events_url": "https://api.github.com/users/jao-o-garcia/events{/privacy}",
            "followers_url": "https://api.github.com/users/jao-o-garcia/followers",
            "following_url": "https://api.github.com/users/jao-o-garcia/following{/other_user}",
            "gists_url": "https://api.github.com/users/jao-o-garcia/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/jao-o-garcia",
            "id": 93397590,
            "login": "jao-o-garcia",
            "node_id": "U_kgDOBZEiVg",
            "organizations_url": "https://api.github.com/users/jao-o-garcia/orgs",
            "received_events_url": "https://api.github.com/users/jao-o-garcia/received_events",
            "repos_url": "https://api.github.com/users/jao-o-garcia/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/jao-o-garcia/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jao-o-garcia/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/jao-o-garcia",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "## Summary\nWhen using the REPL helper (`run_demo_loop`) or other demo/REPL flows, the SDK emits session/output items that contain `\"id\": \"__fake_id__\"`. Those objects are passed unchanged into input guardrails and/or forwarded to the Responses API. The Responses API rejects items with IDs that don't begin with `msg`, producing a 400 BadRequest:\n\n> openai.BadRequestError: Error code: 400 - {'error': {'message': \"Invalid 'input[1].id': '__fake_id__'. Expected an ID that begins with 'msg'.\", ... }}\n\nThis breaks guardrails that call `Runner.run(...)` with the same items received (e.g., input guardrails that call a guardrail agent). It is surprising because the guardrails docs do not call out this id-validation edge case.\n\n## Reproduction steps\n1. Run the REPL demo loop (e.g., `run_demo_loop(agent, context=...)`) or any flow that uses the REPL helper.\n2. Use an agent with an input guardrail that calls `Runner.run(sub_agent, input)` (i.e., the guardrail runs a sub-agent and forwards the input it received).\n3. Observe the SDK/REPL prints where session/output items contain `\"id\": \"__fake_id__\"`.\n4. Runner.run will ultimately send those items to the Responses API, which returns a 400 with the message above.\n\n## Example REPL output (from my run)\n```json\n{\n  \"truncation\": null,\n  \"id\": \"__fake_id__\",\n  \"tool_choice\": \"auto\",\n  \"object\": \"response\",\n  \"created_at\": 1768118260.184021,\n  \"model\": \"anthropic/claude-sonnet-4-5-20250929\",\n  \"output\": [\n    {\n      \"id\": \"__fake_id__\",\n      \"content\": [\n        {\n          \"text\": \"Great! Your appointment has been successfully booked! ‚úÖ ...\",\n          \"type\": \"output_text\"\n        }\n      ],\n      \"status\": \"completed\",\n      \"role\": \"assistant\",\n      \"type\": \"message\"\n    }\n  ],\n  \"error\": null\n}\n```\n\n## Stack Trace\n```text\nFile \".../openai/_base_client.py\", line 1597, in request\n  raise self._make_status_error_from_response(err.response) from None\nopenai.BadRequestError: Error code: 400 - {\n  'error': {\n    'message': \"Invalid 'input[1].id': '__fake_id__'. Expected an ID that begins with 'msg'.\",\n    'type': 'invalid_request_error',\n    'param': 'input[1].id',\n    'code': 'invalid_value'\n  }\n}\n```\n\n## Suggested Fixes\n- Documentation: Add a note to the guardrails docs and the REPL docs warning that guardrails may receive SDK-constructed items and that forwarding items containing invalid ids will cause API 400s. Provide example defensive code for sanitizing id fields.\n- Sanitize IDs before forwarding, or update the SDK to normalize IDs before sending to Responses API. \n\n## Why this matters\n- ‚ùå No documentation warning in Guardrails\n- ‚ùå Beginners/Tutorials might use REPL (Run Demo Loop) to showcase how guardrails are used.\n\n## Temporary solution (Working ‚úÖ)\n```Python\n##Create a function that sanitizes the input\ndef _extract_latest_user_text(input_data: str | list[TResponseInputItem]) -> str:\n    \"\"\"Extract only the most recent user message text.\"\"\"\n    if isinstance(input_data, str):\n        return input_data\n\n    for item in reversed(input_data):\n        if isinstance(item, dict):\n            if item.get(\"role\") == \"user\":\n                content = item.get(\"content\", \"\")\n                return content if isinstance(content, str) else \"\"\n        else:\n            if getattr(item, \"role\", None) == \"user\":\n                content = getattr(item, \"content\", \"\")\n                return content if isinstance(content, str) else \"\"\n    \n    return \"\"\n\n## Use the function to extract the input message\n@input_guardrail(run_in_parallel=False)  # BLOCK before booking tool executes\nasync def booking_abuse_guardrail(\n    ctx: RunContextWrapper[None],\n    agent: Agent,\n    input: str | list[TResponseInputItem]\n) -> GuardrailFunctionOutput:\n    \"\"\"\n    Detect and block booking abuse attempts.\n    \n    Uses blocking execution (run_in_parallel=False) to prevent\n    the booking tool from executing if abuse is detected.\n    \"\"\"\n    #For Run Demo Loop (Repl)\n    latest_text = _extract_latest_user_text(input)\n    result = await Runner.run(booking_abuse_detector, latest_text)\n\n    #For Regular Sessions\n    #result = await Runner.run(booking_abuse_detector, input)\n    \n    return GuardrailFunctionOutput(\n        output_info=result.final_output,\n        tripwire_triggered=result.final_output.is_abuse_attempt,\n    )\n\n```\n",
          "closed_at": "2026-01-11T09:44:31Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2293/comments",
          "created_at": "2026-01-11T08:44:30Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2293/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2293",
          "id": 3800966786,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            },
            {
              "color": "d4a1ab",
              "default": false,
              "description": "Waiting for a reply/more info from the author",
              "id": 8280678640,
              "name": "needs-more-info",
              "node_id": "LA_kwDOOGidp88AAAAB7ZEg8A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/needs-more-info"
            },
            {
              "color": "a95c3a",
              "default": false,
              "description": "",
              "id": 8837303575,
              "name": "feature:lite-llm",
              "node_id": "LA_kwDOOGidp88AAAACDr6NFw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:lite-llm"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2293/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87ijiaC",
          "number": 2293,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2293/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2293/timeline",
          "title": "run_demo_loop / REPL injects \"__fake_id__\" in session items and causes Responses API 400: \"Expected an ID that begins with 'msg'\"",
          "type": null,
          "updated_at": "2026-01-11T09:44:31Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2293",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/93397590?v=4",
            "events_url": "https://api.github.com/users/jao-o-garcia/events{/privacy}",
            "followers_url": "https://api.github.com/users/jao-o-garcia/followers",
            "following_url": "https://api.github.com/users/jao-o-garcia/following{/other_user}",
            "gists_url": "https://api.github.com/users/jao-o-garcia/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/jao-o-garcia",
            "id": 93397590,
            "login": "jao-o-garcia",
            "node_id": "U_kgDOBZEiVg",
            "organizations_url": "https://api.github.com/users/jao-o-garcia/orgs",
            "received_events_url": "https://api.github.com/users/jao-o-garcia/received_events",
            "repos_url": "https://api.github.com/users/jao-o-garcia/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/jao-o-garcia/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jao-o-garcia/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/jao-o-garcia",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "## Description\n\nWhen using `openai-agents>=0.6.5` with `pydantic>=2.12.3` and **Claude models**, Pydantic serializer warnings are generated during event streaming. The warnings occur **internally within the library** during `result.stream_events()` iteration. This has direct effect on the performance of doing some tasks when using Claude models as it leaks to the user prompt and internal instructions.\n\n```\n/path/to/.venv/lib/python3.12/site-packages/pydantic/main.py:464: UserWarning: Pydantic serializer warnings:\n  PydanticSerializationUnexpectedValue(Expected 10 fields but got 5: Expected `Message` - serialized value may not be as expected [field_name='message', input_value=Message(content=\"Hello! H...er_specific_fields=None), input_type=Message])\n  PydanticSerializationUnexpectedValue(Expected `StreamingChoices` - serialized value may not be as expected [field_name='choices', input_value=Choices(finish_reason='st...r_specific_fields=None)), input_type=Choices])\n  return self.__pydantic_serializer__.to_python(\n```\n\n## Environment\n\n- **openai-agents version:** 0.6.5\n- **pydantic version:** 2.12.5\n- **pydantic-core version:** 2.41.5\n- **Python version:** 3.12\n\n\n**This issue ONLY occurs with Claude/Anthropic models, NOT with GPT models.**\n\n\n## Steps to Reproduce\n\n1. Install `openai-agents>=0.6.5` with `pydantic>=2.12.3`\n2. Create an agent using a Claude model (e.g., `anthropic/claude-sonnet-4-5-20250929`)\n3. Run the agent with `Runner.run_streamed()`\n4. Iterate through events with `result.stream_events()`\n5. Observe Pydantic serialization warnings during iteration\n\n## Minimal Reproducible Example\n\n**Complete working script:**\n\n```python\nimport os\nimport asyncio\nfrom pathlib import Path\nfrom agents import Agent, Runner, RunConfig, ModelSettings\n\n# Load environment variables from .env file (optional)\ntry:\n    from dotenv import load_dotenv\n    env_path = Path(__file__).parent / \".env\"\n    if env_path.exists():\n        load_dotenv(env_path)\nexcept ImportError:\n    pass\n\nasync def main():\n    \"\"\"Main async function to run the agent and process events\"\"\"\n    \n    # Create a Claude agent - REQUIRED to reproduce (GPT models don't trigger this)\n    print(\"Creating Claude Sonnet 4.5 agent...\")\n    agent = Agent(\n        name=\"test-claude-agent\",\n        model=\"litellm/anthropic/claude-sonnet-4-5-20250929\",  # LiteLLM proxy format\n        instructions=\"You are a helpful assistant. Keep responses brief.\",\n        model_settings=ModelSettings(temperature=0.7),\n    )\n\n    print(\"Running agent with simple message...\")\n    \n    # Run agent using Runner.run_streamed()\n    run_config = RunConfig(tracing_disabled=True)\n    \n    result = Runner.run_streamed(\n        agent,\n        input=[{\"role\": \"user\", \"content\": \"Say hello in one sentence.\"}],\n        run_config=run_config,\n    )\n\n    print(f\"Trace ID: {result.trace.trace_id if result.trace else 'None'}\")\n    print(\"-\" * 80)\n    print(\"Processing events (warnings will appear during iteration)...\")\n    print(\"-\" * 80)\n\n    # Warnings occur HERE during iteration, BEFORE any explicit serialization\n    event_count = 0\n    async for event in result.stream_events():\n        event_count += 1\n        event_type = event.__class__.__name__\n        print(f\"Event {event_count}: {event_type}\", end=\"\")\n        \n        # Check if event has model_dump (many don't)\n        if hasattr(event, 'model_dump'):\n            print(\" (has model_dump)\")\n        else:\n            print(\" (no model_dump)\")\n    \n    return event_count\n\n# Run the async main function\nevent_count = asyncio.run(main())\nprint(f\"\\nTotal events: {event_count}\")\n```\n\n\n**Expected Output:**\n```\nEvent 1: AgentUpdatedStreamEvent (no model_dump)\nEvent 2: RawResponsesStreamEvent (no model_dump)\nEvent 3: RawResponsesStreamEvent (no model_dump)\nEvent 4: RawResponsesStreamEvent (no model_dump)\nEvent 5: RawResponsesStreamEvent (no model_dump)\nEvent 6: RawResponsesStreamEvent (no model_dump)\nEvent 7: RawResponsesStreamEvent (no model_dump)\nEvent 8: RawResponsesStreamEvent (no model_dump)\nEvent 9: RawResponsesStreamEvent (no model_dump)\nEvent 10: RunItemStreamEvent (no model_dump)\n/Users/stankod/local-llm-service/draftwise/llm/llm-service/.venv/lib/python3.12/site-packages/pydantic/main.py:464: UserWarning: Pydantic serializer warnings:\n  PydanticSerializationUnexpectedValue(Expected 10 fields but got 5: Expected `Message` - serialized value may not be as expected [field_name='message', input_value=Message(content='Hello! H...er_specific_fields=None), input_type=Message])\n  PydanticSerializationUnexpectedValue(Expected `StreamingChoices` - serialized value may not be as expected [field_name='choices', input_value=Choices(finish_reason='st...r_specific_fields=None)), input_type=Choices])\n  return self.__pydantic_serializer__.to_python(\n```\n\n## Additional Context\n\nThis issue was discovered when upgrading from `openai-agents==0.4.2` (which required `pydantic<2.12.0`) to `openai-agents==0.6.5`. \n\nThe warnings occur specifically during internal event processing for Claude models. The fact that GPT models work without warnings suggests the issue is in Claude-specific response handling code within `openai-agents`.",
          "closed_at": "2026-01-12T01:26:13Z",
          "comments": 4,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2291/comments",
          "created_at": "2026-01-10T17:04:56Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2291/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2291",
          "id": 3800075715,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "a95c3a",
              "default": false,
              "description": "",
              "id": 8837303575,
              "name": "feature:lite-llm",
              "node_id": "LA_kwDOOGidp88AAAACDr6NFw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:lite-llm"
            },
            {
              "color": "d0ceac",
              "default": false,
              "description": "",
              "id": 9972171130,
              "name": "dependencies",
              "node_id": "LA_kwDOOGidp88AAAACUmNBeg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/dependencies"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2291/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87igI3D",
          "number": 2291,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2291/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2291/timeline",
          "title": "Pydantic 2.12+ Serialization Warnings with Claude Models in openai-agents 0.6.5",
          "type": null,
          "updated_at": "2026-01-12T08:43:13Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2291",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/224527505?v=4",
            "events_url": "https://api.github.com/users/dast-draftwise/events{/privacy}",
            "followers_url": "https://api.github.com/users/dast-draftwise/followers",
            "following_url": "https://api.github.com/users/dast-draftwise/following{/other_user}",
            "gists_url": "https://api.github.com/users/dast-draftwise/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/dast-draftwise",
            "id": 224527505,
            "login": "dast-draftwise",
            "node_id": "U_kgDODWIEkQ",
            "organizations_url": "https://api.github.com/users/dast-draftwise/orgs",
            "received_events_url": "https://api.github.com/users/dast-draftwise/received_events",
            "repos_url": "https://api.github.com/users/dast-draftwise/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/dast-draftwise/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dast-draftwise/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/dast-draftwise",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "hi i hope you are well i just want to ask about skills like claude introduce and claude agent sdk also has skills and this is game changer so will openai agent sdk introduce skills?\n",
          "closed_at": "2026-01-16T08:38:43Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2285/comments",
          "created_at": "2026-01-09T09:24:12Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2285/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2285",
          "id": 3796164933,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2285/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87iROFF",
          "number": 2285,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2285/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2285/timeline",
          "title": "will openai agent sdk introduce skills?",
          "type": null,
          "updated_at": "2026-01-16T08:38:43Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2285",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/252321177?v=4",
            "events_url": "https://api.github.com/users/MuhammadHamidRazaAi/events{/privacy}",
            "followers_url": "https://api.github.com/users/MuhammadHamidRazaAi/followers",
            "following_url": "https://api.github.com/users/MuhammadHamidRazaAi/following{/other_user}",
            "gists_url": "https://api.github.com/users/MuhammadHamidRazaAi/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/MuhammadHamidRazaAi",
            "id": 252321177,
            "login": "MuhammadHamidRazaAi",
            "node_id": "U_kgDODwodmQ",
            "organizations_url": "https://api.github.com/users/MuhammadHamidRazaAi/orgs",
            "received_events_url": "https://api.github.com/users/MuhammadHamidRazaAi/received_events",
            "repos_url": "https://api.github.com/users/MuhammadHamidRazaAi/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/MuhammadHamidRazaAi/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MuhammadHamidRazaAi/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/MuhammadHamidRazaAi",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "When using WebSearchTool with tool_use_behavior=\"run_llm_again\", the agent‚Äôs output does not follow the provided prompt instructions and results in poorly formatted responses.\n\n\n\n```python\nweb_search_tool = WebSearchTool()\n\n openai_general_search_client = AsyncOpenAI(\n    api_key=OPENAI_API_KEY_EUS,\n    base_url=f\"{OPENAI_ENDPOINT_EUS}openai/v1/\"\n)\ngeneral_search_agent = Agent(\n    name=\"GeneralSearchAgent\",\n    instructions=\"\"\"\n    Provide:\n    - Short summary\n    - Bullet points\n    - Clean Markdown links\n    \"\"\",\n    model=OpenAIResponsesModel(\n        model=\"<OPENAI_GENERAL_SEARCH_DEPLOYMENT>\",\n        openai_client=openai_general_search_client\n    ),\n    tools=[web_search_tool],\n    tool_use_behavior=\"run_llm_again\"\n)\n```\n\n\noutput be like \n\n```\n[Premier League Table, Standings & Form Guide](https://www.premierleague.com/en/tables)[Live Premier League table: 2025/26 season standings](https://www.skysports.com/football/news/11096/13382434/live-premier-league-table-2025-26-season-standings)[Premier League 2025/2026 - Football League Table and Final Standings ...](https://www.sportinglife.com/football/league-tables/premier-league/1/seasons/2025-2026/107)e the[Premier League Table, Standings & Form Guide](https://www.premierleague.com/en/tables)[Live Premier League table: 2025/26 season standings](https://www.skysports.com/football/news/11096/13382434/live-premier-league-table-2025-26-season-standings)[Premier League 2025/2026 - Football League Table and Final Standings ...](https://www.sportinglife.com/football/league-tables/premier-league/1/seasons/2025-2026/107)tps://www.sportinglife.com/football/league-tables/premier-league/1/seasons/2025-2026/107)\n```\n\nIt is happening only when the agent is using the web search tool..  without it, the instructions are being followed.\n",
          "closed_at": "2026-01-20T02:18:18Z",
          "comments": 5,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2266/comments",
          "created_at": "2026-01-07T07:56:09Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2266/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2266",
          "id": 3787735305,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            },
            {
              "color": "ededed",
              "default": false,
              "description": null,
              "id": 8322253702,
              "name": "stale",
              "node_id": "LA_kwDOOGidp88AAAAB8AuDhg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/stale"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2266/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87hxEEJ",
          "number": 2266,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2266/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2266/timeline",
          "title": "WebSearchTool returns messy, duplicated links and ignores formatting instructions",
          "type": null,
          "updated_at": "2026-01-20T02:18:18Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2266",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/164125428?v=4",
            "events_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/events{/privacy}",
            "followers_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/followers",
            "following_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/following{/other_user}",
            "gists_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/Shivam-Bahuguna-Seatrium",
            "id": 164125428,
            "login": "Shivam-Bahuguna-Seatrium",
            "node_id": "U_kgDOCcha9A",
            "organizations_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/orgs",
            "received_events_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/received_events",
            "repos_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/Shivam-Bahuguna-Seatrium",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Please read this first\n\n- **Have you read the docs?**[Agents SDK docs](https://openai.github.io/openai-agents-python/) - yes\n- **Have you searched for related issues?** Others may have faced similar issues. - yes\n\n### Describe the bug\nGetting an error when using gpt-5.1 with the latest version (0.6.5) of agents-sdk.\n`openai.NotFoundError: Error code: 404 - {'error': {'message': \"Item with id 'rs_0c248120afa4205101695e04db35c481909a9dd12c3f4d8a89' not found. Items are not persisted when `store` is set to false. Try again with `store` set to true, or remove this item from your input.\", 'type': 'invalid_request_error', 'param': 'input', 'code': None}}`\n\n### Debug information\n- Agents SDK version: 0.6.5\n- Python version - 3.12.11\n\n### Repro steps\nThis is the agent configuration:\n```\nsome_agent = Agent(\n            name=\"some agent\",\n            handoff_description=\"instructions\",\n            instructions=dynamic_agent_prompt,\n            model=\"gpt-5.1\",\n            model_settings=ModelSettings(\n                reasoning=Reasoning(effort=\"low\", summary=\"auto\"), \n                verbosity=\"low\", \n                parallel_tool_calls=True,\n                max_tokens=10000,\n                store=False\n            ),\n            tools=[tools]\n        )\n```\n\n### Expected behavior\nThe reasoning should work as this issue has already been resolved as of [#919](https://github.com/openai/openai-agents-python/issues/919#event-18297734928)\n\nI am using `state=False` due to another issue referenced [here](https://community.openai.com/t/how-to-solve-badrequesterror-400-item-rs-of-type-reasoning-was-provided-without-its-required-following-item-error-in-responses-api/1151686) and [here](https://community.openai.com/t/one-potential-cause-of-item-rs-xx-of-type-reasoning-was-provided-without-its-required-following-item-error-stateless-using-agents-sdk/1370540)",
          "closed_at": "2026-01-07T07:51:09Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2265/comments",
          "created_at": "2026-01-07T07:16:31Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2265/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2265",
          "id": 3787640793,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            },
            {
              "color": "b2fdef",
              "default": false,
              "description": "",
              "id": 8837299420,
              "name": "feature:core",
              "node_id": "LA_kwDOOGidp88AAAACDr583A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:core"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2265/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87hws_Z",
          "number": 2265,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2265/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2265/timeline",
          "title": "Facing issues with reasoning items when using gpt-5.1 with `store=False`.",
          "type": null,
          "updated_at": "2026-01-07T07:51:09Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2265",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/236100884?v=4",
            "events_url": "https://api.github.com/users/HailTheLotusJewel/events{/privacy}",
            "followers_url": "https://api.github.com/users/HailTheLotusJewel/followers",
            "following_url": "https://api.github.com/users/HailTheLotusJewel/following{/other_user}",
            "gists_url": "https://api.github.com/users/HailTheLotusJewel/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/HailTheLotusJewel",
            "id": 236100884,
            "login": "HailTheLotusJewel",
            "node_id": "U_kgDODhKdFA",
            "organizations_url": "https://api.github.com/users/HailTheLotusJewel/orgs",
            "received_events_url": "https://api.github.com/users/HailTheLotusJewel/received_events",
            "repos_url": "https://api.github.com/users/HailTheLotusJewel/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/HailTheLotusJewel/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/HailTheLotusJewel/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/HailTheLotusJewel",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Question\nI want to integrate AWS Bedrock models with OpenAI Agent SDK, I checked previous issues related to this, but Bedrock has changed quite significantly since then, and now supports inference profiles which are the recommended way to utilise Bedrock models.\n\nAccording to LiteLLM docs the Bedrock models can be used via the following.\nhttps://docs.litellm.ai/docs/providers/bedrock#bedrock-application-inference-profile\n\n```py\nresponse = completion(\n    model=\"bedrock/anthropic.claude-3-5-sonnet-20240620-v1:0\",\n    messages=[{\"role\": \"user\", \"content\": \"Hello, how are you?\"}],\n    model_id=\"arn:aws:bedrock:eu-central-1:000000000000:application-inference-profile/a0a0a0a0a0a0\",\n)\n\n```\n\nHow would I integrate that with the Agent?\nThe `LitellmModel` object from `agents` supports only the following parameters and thus I can not pass the `model_id=<arn>`\n\n```\n        self,\n        model: str,\n        base_url: str | None = None,\n        api_key: str | None = None,\n```",
          "closed_at": "2026-01-18T02:13:19Z",
          "comments": 4,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2259/comments",
          "created_at": "2026-01-05T09:41:22Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2259/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2259",
          "id": 3780827662,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            },
            {
              "color": "ededed",
              "default": false,
              "description": null,
              "id": 8322253702,
              "name": "stale",
              "node_id": "LA_kwDOOGidp88AAAAB8AuDhg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/stale"
            },
            {
              "color": "77cf69",
              "default": false,
              "description": "",
              "id": 8837302092,
              "name": "feature:chat-completions",
              "node_id": "LA_kwDOOGidp88AAAACDr6HTA",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:chat-completions"
            },
            {
              "color": "a95c3a",
              "default": false,
              "description": "",
              "id": 8837303575,
              "name": "feature:lite-llm",
              "node_id": "LA_kwDOOGidp88AAAACDr6NFw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:lite-llm"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2259/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87hWtoO",
          "number": 2259,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2259/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "not_planned",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2259/timeline",
          "title": "Using OpenAI Agent SDK with Bedrock Inference Profiles",
          "type": null,
          "updated_at": "2026-01-18T02:13:19Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2259",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/224527505?v=4",
            "events_url": "https://api.github.com/users/dast-draftwise/events{/privacy}",
            "followers_url": "https://api.github.com/users/dast-draftwise/followers",
            "following_url": "https://api.github.com/users/dast-draftwise/following{/other_user}",
            "gists_url": "https://api.github.com/users/dast-draftwise/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/dast-draftwise",
            "id": 224527505,
            "login": "dast-draftwise",
            "node_id": "U_kgDODWIEkQ",
            "organizations_url": "https://api.github.com/users/dast-draftwise/orgs",
            "received_events_url": "https://api.github.com/users/dast-draftwise/received_events",
            "repos_url": "https://api.github.com/users/dast-draftwise/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/dast-draftwise/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dast-draftwise/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/dast-draftwise",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "I'm trying this Agent with tools and structured output in Open AI Agents SDK with Gemini. \n\n\n```python\nimport os\nimport random\nfrom typing import List, Literal\n\nfrom agents import Agent, ItemHelpers, Runner, function_tool, set_tracing_disabled\nfrom agents.extensions.models.litellm_model import LitellmModel\nfrom pydantic import BaseModel, Field\n\nset_tracing_disabled(disabled=True)\nos.environ[\"GOOGLE_API_KEY\"] = \"...\"\n\nmodel = LitellmModel(model=\"gemini/gemini-3-flash-preview\", api_key=os.getenv(\"GOOGLE_API_KEY\"))\nclass Joke(BaseModel):\n    setup: str = Field(description=\"Joke setup\")\n    punchline: str = Field(description=\"Joke punchline\")\n\n\nclass JokesResponse(BaseModel):\n    count: int = Field(description=\"Total number of jokes generated\")\n    style: Literal[\"dad\", \"dark\", \"absurd\", \"clean\"] = Field(description=\"Chosen style\")\n    jokes: List[Joke] = Field(description=\"List of jokes\")\n\n\nclass JokePlan(BaseModel):\n    count: int = Field(ge=1, le=5, description=\"How many jokes to tell (1..5)\")\n    style: Literal[\"dad\", \"dark\", \"absurd\", \"clean\"] = Field(description=\"Joke style\")\n\n\nclass JokerAgentToolStructured:\n    def __init__(self):\n        self.agent = Agent(\n            name=\"Joker+Structured\",\n            instructions=(\n                \"First, ALWAYS call the `make_joke_plan` tool.\\n\"\n                \"Then generate the FINAL response as JSON strictly compatible with `JokesResponse`:\\n\"\n                \"- `count` must match the plan\\n\"\n                \"- `style` must match the plan\\n\"\n                \"- `jokes` must contain exactly `count` elements\\n\"\n                \"Keep the jokes in Spanish.\"\n            ),\n            tools=[self.make_joke_plan],\n            output_type=JokesResponse,\n            model=model,\n        )\n\n    @staticmethod\n    @function_tool\n    def make_joke_plan() -> JokePlan:\n        \"\"\"Decide how many jokes and which style to use.\"\"\"\n        return JokePlan(\n            count=random.randint(1, 5),\n            style=random.choice([\"dad\", \"absurd\", \"clean\", \"dark\"]),\n        )\n\n    async def run(self, input: str):\n        result = Runner.run_streamed(self.agent, input=input)\n\n        print(\"=== Run starting ===\")\n\n        async for event in result.stream_events():\n            if event.type == \"raw_response_event\":\n                continue\n\n            elif event.type == \"agent_updated_stream_event\":\n                print(f\"Agent updated: {event.new_agent.name}\")\n                continue\n\n            elif event.type == \"run_item_stream_event\":\n                item = event.item\n\n                if item.type == \"tool_call_item\":\n                    print(\"-- Tool was called\")\n\n                elif item.type == \"tool_call_output_item\":\n                    print(f\"-- Tool output: {item.output}\")\n\n                elif item.type == \"message_output_item\":\n                    print(f\"-- Message output:\\n{ItemHelpers.text_message_output(item)}\")\n\n        print(\"=== Run complete ===\")\n\n        final: JokesResponse = result.final_output\n        print(\"\\n=== Final structured output (Pydantic object) ===\")\n        print(final.model_dump_json(indent=2))\n\n\nasync def main():\n    agent = JokerAgentToolStructured()\n    await agent.run(\"I want jokes for a work meeting.\")\n\nawait main()\n```\n\n### Relevant log output\n\n```shell\nFile c:\\Users\\sejohermo\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\agents\\models\\chatcmpl_stream_handler.py:91, in ChatCmplStreamHandler.handle_stream(cls, response, stream)\n     89 state = StreamingState()\n     90 sequence_number = SequenceNumber()\n---> 91 async for chunk in stream:\n     92     if not state.started:\n     93         state.started = True\n\nFile c:\\Users\\sejohermo\\AppData\\Local\\Programs\\Python\\Python312\\Lib\\site-packages\\litellm\\litellm_core_utils\\streaming_handler.py:2013, in CustomStreamWrapper.__anext__(self)\n   2010 except Exception as e:\n   2011     from litellm.exceptions import MidStreamFallbackError\n-> 2013     raise MidStreamFallbackError(\n   2014         message=str(e),\n   2015         model=self.model,\n   2016         llm_provider=self.custom_llm_provider or \"anthropic\",\n   2017         original_exception=e,\n   2018         generated_content=self.response_uptil_now,\n   2019         is_pre_first_chunk=not self.sent_first_chunk,\n   2020     )\n\nMidStreamFallbackError: litellm.ServiceUnavailableError: litellm.MidStreamFallbackError: litellm.BadRequestError: Vertex_ai_betaException BadRequestError - b'{\\n  \"error\": {\\n    \"code\": 400,\\n    \"message\": \"Request contains an invalid argument.\",\\n    \"status\": \"INVALID_ARGUMENT\"\\n  }\\n}\\n' Original exception: BadRequestError: litellm.BadRequestError: Vertex_ai_betaException BadRequestError - b'{\\n  \"error\": {\\n    \"code\": 400,\\n    \"message\": \"Request contains an invalid argument.\",\\n    \"status\": \"INVALID_ARGUMENT\"\\n  }\\n}\\n'\n```",
          "closed_at": "2026-01-16T02:17:03Z",
          "comments": 4,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2257/comments",
          "created_at": "2026-01-04T05:54:55Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2257/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2257",
          "id": 3778877643,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            },
            {
              "color": "ededed",
              "default": false,
              "description": null,
              "id": 8322253702,
              "name": "stale",
              "node_id": "LA_kwDOOGidp88AAAAB8AuDhg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/stale"
            },
            {
              "color": "77cf69",
              "default": false,
              "description": "",
              "id": 8837302092,
              "name": "feature:chat-completions",
              "node_id": "LA_kwDOOGidp88AAAACDr6HTA",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:chat-completions"
            },
            {
              "color": "a95c3a",
              "default": false,
              "description": "",
              "id": 8837303575,
              "name": "feature:lite-llm",
              "node_id": "LA_kwDOOGidp88AAAACDr6NFw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:lite-llm"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2257/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87hPRjL",
          "number": 2257,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2257/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2257/timeline",
          "title": "Structured Output + Tool Calling is not working with Gemini in Open AI Agents SDK",
          "type": null,
          "updated_at": "2026-01-16T02:17:03Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2257",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/103291953?v=4",
            "events_url": "https://api.github.com/users/sebastianherreramonterrosa/events{/privacy}",
            "followers_url": "https://api.github.com/users/sebastianherreramonterrosa/followers",
            "following_url": "https://api.github.com/users/sebastianherreramonterrosa/following{/other_user}",
            "gists_url": "https://api.github.com/users/sebastianherreramonterrosa/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/sebastianherreramonterrosa",
            "id": 103291953,
            "login": "sebastianherreramonterrosa",
            "node_id": "U_kgDOBigcMQ",
            "organizations_url": "https://api.github.com/users/sebastianherreramonterrosa/orgs",
            "received_events_url": "https://api.github.com/users/sebastianherreramonterrosa/received_events",
            "repos_url": "https://api.github.com/users/sebastianherreramonterrosa/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/sebastianherreramonterrosa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sebastianherreramonterrosa/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/sebastianherreramonterrosa",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Problem Statement\n\nThe OpenAI Agents SDK repository currently lacks a CONTRIBUTING.md file, which creates friction for potential contributors. As evidenced by the \"Want to contribute?\" banner linking to a generic open-source guide, there's no project-specific guidance on:\n\n- How to set up the development environment\n- Contribution workflow (branching, commits, PRs)\n- Code style and testing requirements\n- Issue triage and labeling conventions\n- Release process and versioning\n- Community expectations and code of conduct\n\nWith 18.1k stars, 201 contributors, and 155 open issues, standardizing the contribution process would:\n1. **Reduce maintainer burden** by setting clear expectations\n2. **Lower the barrier to entry** for new contributors\n3. **Improve PR quality** through upfront guidance\n4. **Scale community contributions** as the project grows\n\n### Proposed Solution\n\nAdd a comprehensive CONTRIBUTING.md file that covers:\n\n#### 1. Getting Started\n- Prerequisites (Python 3.9+, uv installation)\n- Fork and clone workflow\n- Development environment setup (`make sync`)\n- Running tests locally (`make tests`, `make mypy`, `make lint`)\n\n#### 2. Development Workflow\n- Branch naming conventions (e.g., `feature/`, `fix/`, `docs/`)\n- Commit message format (conventional commits)\n- How to run the full test suite\n- When to add/update documentation\n\n#### 3. Submitting Changes\n- PR template expectations\n- Required checks (tests, linting, type checking)\n- Review process and timeline expectations\n- How to respond to feedback\n\n#### 4. Types of Contributions\n- Bug fixes with reproduction steps\n- Feature requests with use case justification\n- Documentation improvements\n- Example additions\n- Test coverage improvements\n\n#### 5. Code Standards\n- Reference to existing tooling (ruff, mypy)\n- Type annotation requirements\n- Documentation standards (docstrings)\n- Test coverage expectations\n\n#### 6. Community Guidelines\n- Issue triage labels and their meanings\n- How to report security vulnerabilities\n- Code of conduct reference\n- Communication channels (issues, discussions, Discord if applicable)\n\n### Success Metrics\n\n- Reduced \"how do I contribute?\" questions in issues\n- Faster PR review cycles due to better initial quality\n- Increased percentage of PRs passing CI on first attempt\n- More first-time contributors successfully landing PRs\n\n### Additional Context\n\nMany successful OSS projects have comprehensive contributing guides:\n- [FastAPI Contributing](https://github.com/tiangolo/fastapi/blob/master/CONTRIBUTING.md)\n- [Django Contributing](https://docs.djangoproject.com/en/dev/internals/contributing/)\n- [React Contributing](https://github.com/facebook/react/blob/main/CONTRIBUTING.md)\n\nGiven the SDK's rapid growth and the complexity of the agent patterns it enables, clear contribution guidelines would significantly improve the contributor experience and project velocity.\n\n### Implementation Notes\n\nI'm happy to draft an initial CONTRIBUTING.md based on the existing Makefile targets and observed PR patterns. This could be refined through maintainer feedback and community input.",
          "closed_at": "2026-01-13T22:27:11Z",
          "comments": 1,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2252/comments",
          "created_at": "2026-01-01T22:24:46Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2252/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2252",
          "id": 3775300495,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2252/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87hBoOP",
          "number": 2252,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2252/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2252/timeline",
          "title": "[Enhancement] Add comprehensive CONTRIBUTING.md guide to improve contributor onboarding",
          "type": null,
          "updated_at": "2026-01-13T22:27:11Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2252",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/58684508?v=4",
            "events_url": "https://api.github.com/users/ayoajuwon1/events{/privacy}",
            "followers_url": "https://api.github.com/users/ayoajuwon1/followers",
            "following_url": "https://api.github.com/users/ayoajuwon1/following{/other_user}",
            "gists_url": "https://api.github.com/users/ayoajuwon1/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/ayoajuwon1",
            "id": 58684508,
            "login": "ayoajuwon1",
            "node_id": "MDQ6VXNlcjU4Njg0NTA4",
            "organizations_url": "https://api.github.com/users/ayoajuwon1/orgs",
            "received_events_url": "https://api.github.com/users/ayoajuwon1/received_events",
            "repos_url": "https://api.github.com/users/ayoajuwon1/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/ayoajuwon1/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ayoajuwon1/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/ayoajuwon1",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Summary\n\nWhen running multiple `Runner.run()` calls concurrently using `asyncio.gather()` (common in batch processing scenarios), Python raises a `ValueError` related to ContextVar token management. This is similar to the issue fixed in #538 for `run_streamed()`, but affects the regular synchronous `Runner.run()` pattern.\n\n### Environment\n\n- **openai-agents version:** 0.6.x (also affects forked version with Gemini support)\n- **Python version:** 3.11+\n- **OS:** Linux (production), macOS (development)\n\n### Error Message\n\n```\nValueError: <Token var=<ContextVar name='current_trace' default=None at 0x7f7a7f7279c0> at 0x7f7a73ea0200> was created in a different Context\n```\n\n### Stack Trace Location\n\n```\nFile \"agents/tracing/scope.py\", line 49, in reset_current_trace\n    _current_trace.reset(token)\n```\n\n### Reproduction\n\n```python\nimport asyncio\nfrom agents import Agent, Runner\n\nasync def process_batch(inputs: list[str]):\n    \"\"\"Process multiple inputs concurrently - triggers ContextVar error\"\"\"\n\n    async def process_single(input_text: str):\n        agent = Agent(\n            name=\"processor\",\n            instructions=\"Process the input\",\n            model=\"gpt-4.1-mini\",\n        )\n        result = await Runner.run(agent, input_text)\n        return result.final_output\n\n    # Concurrent execution triggers the error\n    tasks = [process_single(inp) for inp in inputs]\n    results = await asyncio.gather(*tasks)\n    return results\n\n# This will fail with ContextVar error when inputs > 1\nasyncio.run(process_batch([\"input1\", \"input2\", \"input3\"]))\n```\n\n### Root Cause Analysis\n\nThe issue is in `agents/tracing/traces.py` and `agents/tracing/scope.py`:\n\n1. When `Runner.run()` starts, it calls `trace.start(mark_as_current=True)` which does:\n   ```python\n   self._prev_context_token = Scope.set_current_trace(self)\n   ```\n\n2. When `Runner.run()` finishes, it calls `trace.finish(reset_current=True)` which does:\n   ```python\n   Scope.reset_current_trace(self._prev_context_token)\n   ```\n\n3. With concurrent `asyncio.gather()` tasks:\n   - Task 1: `set_current_trace()` ‚Üí gets token A\n   - Task 2: `set_current_trace()` ‚Üí gets token B\n   - Task 3: `set_current_trace()` ‚Üí gets token C\n   - Task 1 finishes: `reset_current_trace(token A)` ‚Üí changes ContextVar\n   - Task 3 finishes: `reset_current_trace(token C)` ‚Üí **ERROR**: token C was created when ContextVar had different state\n\n### Relationship to #538\n\nIssue #538 and PR #540 fixed this for `run_streamed()` by ensuring trace start/finish happen in the same async context. However, the same pattern occurs with concurrent `Runner.run()` calls, which wasn't addressed.\n\n### Current Workaround\n\nWe're using `RunConfig(tracing_disabled=True)` for batch operations:\n\n```python\nfrom agents import RunConfig\n\nbatch_config = RunConfig(tracing_disabled=True)\n\nasync def process_single(input_text: str):\n    agent = Agent(...)\n    result = await Runner.run(agent, input_text, run_config=batch_config)\n    return result.final_output\n```\n\nThis works but loses all tracing data for batch operations.\n\n### Proposed Solutions\n\n1. **Apply same fix as #540** - Ensure trace lifecycle is managed within each task's context\n2. **Use `contextvars.copy_context()`** - Give each concurrent task its own context copy\n3. **Catch and handle the ValueError** - Gracefully handle the reset failure without crashing\n\n### Impact\n\n- **Frequency:** 19 errors in production from a single batch operation\n- **Affected use case:** Any batch processing that uses concurrent `Runner.run()` calls\n- **Workaround available:** Yes, but loses tracing capability\n\n### Additional Context\n\nProduction error pattern (all 19 errors within 1 second, same batch):\n```\n2025-12-29 17:48:19.219 | generate_content | ContextVar error\n2025-12-29 17:48:19.223 | generate_content | ContextVar error\n2025-12-29 17:48:19.227 | generate_content | ContextVar error\n... (16 more within same second)\n```",
          "closed_at": "2026-01-06T02:27:49Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2246/comments",
          "created_at": "2025-12-30T12:25:13Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2246/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2246",
          "id": 3770024158,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "c7c425",
              "default": false,
              "description": "",
              "id": 8837300671,
              "name": "feature:tracing",
              "node_id": "LA_kwDOOGidp88AAAACDr6Bvw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:tracing"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2246/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87gtgDe",
          "number": 2246,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2246/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2246/timeline",
          "title": "ValueError: ContextVar token \"was created in a different Context\" when using concurrent Runner.run() calls with asyncio.gather",
          "type": null,
          "updated_at": "2026-01-06T02:27:49Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2246",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/56637531?v=4",
            "events_url": "https://api.github.com/users/atpug22/events{/privacy}",
            "followers_url": "https://api.github.com/users/atpug22/followers",
            "following_url": "https://api.github.com/users/atpug22/following{/other_user}",
            "gists_url": "https://api.github.com/users/atpug22/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/atpug22",
            "id": 56637531,
            "login": "atpug22",
            "node_id": "MDQ6VXNlcjU2NjM3NTMx",
            "organizations_url": "https://api.github.com/users/atpug22/orgs",
            "received_events_url": "https://api.github.com/users/atpug22/received_events",
            "repos_url": "https://api.github.com/users/atpug22/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/atpug22/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/atpug22/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/atpug22",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Question\n1. I'm using the `is_enabled` param within the @function_tool decorator to control the tools that are exposed to a user at runtime based on the callable function below to control the value for `is_enabled`\n```\ndef _is_cm_enrolled(ctx: RunContextWrapper[AgentContext], agent: AgentBase) -> bool:\n    return ctx.context.is_cm_enrolled  # by default is True\n```\n2. I always bump into this error **if the opening query for the session already calls a tool** e.g. \"what's my credit score?\".\n```\nagents.exceptions.ModelBehaviorError: Tool fetch_latest_credit_report\" /> not found in agent Agent\n```\nImplementation of tool as follows:\n```\n@function_tool(is_enabled=_is_cm_enrolled)\nasync def fetch_latest_credit_report(\n    wrapper: RunContextWrapper[AgentContext],\n) -> dict | None:\n    \"\"\"\n    High level data points e.g.\n    - credit score\n    - credit utilization rate\n    - credit age\n    - credit inquiries\n    - payment history\n    \"\"\"\n    data = await _credit_report_retriever_client._fetch(\n          request={\n              \"user_id\": \"\",\n              \"request_source\": \"\",\n          },\n      )\n\n    return data\n```\n3. However, if the opening query is something generic like \"hello\", this error doesn't bubble up.\n\nAm I doing something wrong here?",
          "closed_at": "2026-01-18T02:13:20Z",
          "comments": 10,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2232/comments",
          "created_at": "2025-12-24T06:29:27Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2232/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2232",
          "id": 3759372530,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0E8A16",
              "default": true,
              "description": "Question about using the SDK",
              "id": 8274131156,
              "name": "question",
              "node_id": "LA_kwDOOGidp88AAAAB7S041A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/question"
            },
            {
              "color": "ededed",
              "default": false,
              "description": null,
              "id": 8322253702,
              "name": "stale",
              "node_id": "LA_kwDOOGidp88AAAAB8AuDhg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/stale"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2232/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87gE3jy",
          "number": 2232,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2232/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "not_planned",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2232/timeline",
          "title": "Agent has error calling tool even if is_enabled = True",
          "type": null,
          "updated_at": "2026-01-18T02:13:20Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2232",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/136307221?v=4",
            "events_url": "https://api.github.com/users/NateMoneyLion/events{/privacy}",
            "followers_url": "https://api.github.com/users/NateMoneyLion/followers",
            "following_url": "https://api.github.com/users/NateMoneyLion/following{/other_user}",
            "gists_url": "https://api.github.com/users/NateMoneyLion/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/NateMoneyLion",
            "id": 136307221,
            "login": "NateMoneyLion",
            "node_id": "U_kgDOCB_iFQ",
            "organizations_url": "https://api.github.com/users/NateMoneyLion/orgs",
            "received_events_url": "https://api.github.com/users/NateMoneyLion/received_events",
            "repos_url": "https://api.github.com/users/NateMoneyLion/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/NateMoneyLion/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/NateMoneyLion/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/NateMoneyLion",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Describe the bug\n\n`RunResultStreamed.stream_events()` cannot be cancelled using `asyncio` primitives. In the script below, we'd like to time out if a streaming event takes longer than 5 seconds to arrive. However, using `asyncio.wait_for`'s cancellation event is not propagated to the `stream_events` iterator. \n\n\n### Debug information\n- Agents SDK version: (e.g. `v0.0.3`)\n- Python version (e.g. Python 3.10)\n\n### Repro steps\n\n```python\nfrom agents import Agent, Runner, function_tool\nimport asyncio\nimport datetime\n\n\n@function_tool\nasync def get_secret_key():\n    await asyncio.sleep(120)\n    return \"secret_key\"\n\n\nasync def main():\n    agent = Agent(\n        name=\"secret_key_agent\",\n        model=\"gpt-4.1-mini\",\n        tools=[get_secret_key],\n    )\n\n    result = Runner.run_streamed(agent, input=\"What is the secret key?\")\n    event_iter = aiter(result.stream_events())\n\n    while True:\n        try:\n            event = await asyncio.wait_for(anext(event_iter), timeout=5)\n            print(datetime.datetime.now(), event)\n        except StopAsyncIteration:\n            break\n        except asyncio.TimeoutError:\n            print(\"Timed out waiting for next event\")\n            break  # or continue if you want to keep waiting\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### Expected behavior\n\nThe iterator should respond as expected to asyncio cancellations. The loop above should time out. \n",
          "closed_at": "2026-01-06T02:18:18Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2222/comments",
          "created_at": "2025-12-22T22:30:17Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2222/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2222",
          "id": 3755428207,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "b2fdef",
              "default": false,
              "description": "",
              "id": 8837299420,
              "name": "feature:core",
              "node_id": "LA_kwDOOGidp88AAAACDr583A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:core"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2222/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87f10lv",
          "number": 2222,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2222/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2222/timeline",
          "title": "Streaming is blocking and cannot be cancelled",
          "type": null,
          "updated_at": "2026-01-19T02:26:25Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2222",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/159173215?v=4",
            "events_url": "https://api.github.com/users/varunursekar/events{/privacy}",
            "followers_url": "https://api.github.com/users/varunursekar/followers",
            "following_url": "https://api.github.com/users/varunursekar/following{/other_user}",
            "gists_url": "https://api.github.com/users/varunursekar/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/varunursekar",
            "id": 159173215,
            "login": "varunursekar",
            "node_id": "U_kgDOCXzKXw",
            "organizations_url": "https://api.github.com/users/varunursekar/orgs",
            "received_events_url": "https://api.github.com/users/varunursekar/received_events",
            "repos_url": "https://api.github.com/users/varunursekar/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/varunursekar/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/varunursekar/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/varunursekar",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": {
            "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
            "events_url": "https://api.github.com/users/seratch/events{/privacy}",
            "followers_url": "https://api.github.com/users/seratch/followers",
            "following_url": "https://api.github.com/users/seratch/following{/other_user}",
            "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/seratch",
            "id": 19658,
            "login": "seratch",
            "node_id": "MDQ6VXNlcjE5NjU4",
            "organizations_url": "https://api.github.com/users/seratch/orgs",
            "received_events_url": "https://api.github.com/users/seratch/received_events",
            "repos_url": "https://api.github.com/users/seratch/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/seratch",
            "user_view_type": "public"
          },
          "assignees": [
            {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            }
          ],
          "author_association": "MEMBER",
          "body": "The \"nested handoffs\" behavior introduced in https://github.com/openai/openai-agents-python/pull/1996 was intended to address handoff quality issues starting with the GPT-5 series.\n\nWe still believe this is a valuable enhancement for that purpose; however, the underlying internal changes introduced some side effects (for example, https://github.com/openai/openai-agents-python/issues/2151), and we need more time to stabilize it.\n\nFor this reason, we will roll back the change in the 0.7 series and move nested handoffs to an opt-in beta feature for developers who need it. We‚Äôll continue improving it, and once it‚Äôs ready for all net-new developers, we‚Äôll enable it by default again.",
          "closed_at": "2026-01-20T03:08:57Z",
          "comments": 1,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2211/comments",
          "created_at": "2025-12-19T23:39:18Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2211/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2211",
          "id": 3749241694,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "d73a4a",
              "default": true,
              "description": "Something isn't working",
              "id": 8274131139,
              "name": "bug",
              "node_id": "LA_kwDOOGidp88AAAAB7S04ww",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/bug"
            },
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "b2fdef",
              "default": false,
              "description": "",
              "id": 8837299420,
              "name": "feature:core",
              "node_id": "LA_kwDOOGidp88AAAACDr583A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:core"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2211/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": null,
            "closed_issues": 5,
            "created_at": "2025-11-05T04:29:50Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/2",
            "id": 14053417,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/2/labels",
            "node_id": "MI_kwDOOGidp84A1nAp",
            "number": 2,
            "open_issues": 7,
            "state": "open",
            "title": "0.7.x",
            "updated_at": "2026-01-20T04:22:24Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/2"
          },
          "node_id": "I_kwDOOGidp87feONe",
          "number": 2211,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 1,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 1,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2211/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2211/timeline",
          "title": "Move nested handoffs to opt-in feature",
          "type": null,
          "updated_at": "2026-01-20T03:08:57Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2211",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
            "events_url": "https://api.github.com/users/seratch/events{/privacy}",
            "followers_url": "https://api.github.com/users/seratch/followers",
            "following_url": "https://api.github.com/users/seratch/following{/other_user}",
            "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/seratch",
            "id": 19658,
            "login": "seratch",
            "node_id": "MDQ6VXNlcjE5NjU4",
            "organizations_url": "https://api.github.com/users/seratch/orgs",
            "received_events_url": "https://api.github.com/users/seratch/received_events",
            "repos_url": "https://api.github.com/users/seratch/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/seratch",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": {
            "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
            "events_url": "https://api.github.com/users/seratch/events{/privacy}",
            "followers_url": "https://api.github.com/users/seratch/followers",
            "following_url": "https://api.github.com/users/seratch/following{/other_user}",
            "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/seratch",
            "id": 19658,
            "login": "seratch",
            "node_id": "MDQ6VXNlcjE5NjU4",
            "organizations_url": "https://api.github.com/users/seratch/orgs",
            "received_events_url": "https://api.github.com/users/seratch/received_events",
            "repos_url": "https://api.github.com/users/seratch/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/seratch",
            "user_view_type": "public"
          },
          "assignees": [
            {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            }
          ],
          "author_association": "MEMBER",
          "body": "Like the TS SDK, we'll. adds seamless support of the newly added compaction typed items in agent convo history: https://platform.openai.com/docs/api-reference/responses/compact\n\nReferences: \n- https://github.com/openai/openai-agents-js/pull/760\n- https://github.com/openai/openai-agents-js/pull/784\n",
          "closed_at": "2026-01-09T00:42:16Z",
          "comments": 0,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2206/comments",
          "created_at": "2025-12-19T06:47:03Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2206/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2206",
          "id": 3746315831,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "90669a",
              "default": false,
              "description": "",
              "id": 8938534774,
              "name": "feature:sessions",
              "node_id": "LA_kwDOOGidp88AAAACFMc3dg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:sessions"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2206/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87fTD43",
          "number": 2206,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2206/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2206/timeline",
          "title": "feat: Add responses.compact-wired session",
          "type": null,
          "updated_at": "2026-01-09T00:49:00Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2206",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
            "events_url": "https://api.github.com/users/seratch/events{/privacy}",
            "followers_url": "https://api.github.com/users/seratch/followers",
            "following_url": "https://api.github.com/users/seratch/following{/other_user}",
            "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/seratch",
            "id": 19658,
            "login": "seratch",
            "node_id": "MDQ6VXNlcjE5NjU4",
            "organizations_url": "https://api.github.com/users/seratch/orgs",
            "received_events_url": "https://api.github.com/users/seratch/received_events",
            "repos_url": "https://api.github.com/users/seratch/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/seratch",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "body": "### Describe the bug\nFor the OpenAI Realtime model, when the model hallucinates a tool that is not hooked into the tool list, and platforms SDK fails and raises an exception, causing teardown of the session.\n\nTool hallucination is very likely to happen in complex prompts, as well as OpenAI's text mode.\n\nMade-up tool errors are also opened with other bugs but closed due to inactivity; #1671 \n\n### Debug information\n- Agents SDK version: v0.6.3\n- Python version: Python 3.11\n\n### Repro steps\n- Add a system instruction for a made-up or non-existent tool. (also a tool name similar but not an exact one of the one added to the system)\n- During the execution, when the tool fails exception is raised, the following log is raised, and the whole session is down.\n\n``agents.exceptions.ModelBehaviorError: Tool xxxx not found.\n\n### Expected behavior\nAs the tool fails, this error can be logged and propagated as a message or handler, allowing the session to continue with the error handled by the application.\n",
          "closed_at": "2026-01-06T05:58:39Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2204/comments",
          "created_at": "2025-12-18T18:22:08Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2204/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2204",
          "id": 3744270628,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "d73a4a",
              "default": true,
              "description": "Something isn't working",
              "id": 8274131139,
              "name": "bug",
              "node_id": "LA_kwDOOGidp88AAAAB7S04ww",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/bug"
            },
            {
              "color": "d3cbd8",
              "default": false,
              "description": "",
              "id": 8929865814,
              "name": "feature:realtime",
              "node_id": "LA_kwDOOGidp88AAAACFELwVg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:realtime"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2204/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87fLQkk",
          "number": 2204,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 4,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 4,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2204/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2204/timeline",
          "title": "Not found tool execution brakes down the session.",
          "type": null,
          "updated_at": "2026-01-06T05:58:39Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2204",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/3147731?v=4",
            "events_url": "https://api.github.com/users/aligokalppeker/events{/privacy}",
            "followers_url": "https://api.github.com/users/aligokalppeker/followers",
            "following_url": "https://api.github.com/users/aligokalppeker/following{/other_user}",
            "gists_url": "https://api.github.com/users/aligokalppeker/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/aligokalppeker",
            "id": 3147731,
            "login": "aligokalppeker",
            "node_id": "MDQ6VXNlcjMxNDc3MzE=",
            "organizations_url": "https://api.github.com/users/aligokalppeker/orgs",
            "received_events_url": "https://api.github.com/users/aligokalppeker/received_events",
            "repos_url": "https://api.github.com/users/aligokalppeker/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/aligokalppeker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aligokalppeker/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/aligokalppeker",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Please read this first\n\n- **Have you read the custom model provider docs, including the 'Common issues' section?** [Model provider docs](https://openai.github.io/openai-agents-python/models/#using-other-llm-providers) Yes\n- **Have you searched for related issues?** Others may have faced similar issues. Yes\n\n### Describe the question\nAlthough `preserve_thinking_tokens` is a param for `Converter.items_to_messages`, it doesn't attach the thinking tokens unless there was a tool call.\n\nI have a fix for this in a local branch with tests but I don't have permission to push the branch up. \n\n### Debug information\n- Agents SDK version: v0.6.3\n- Python version: 3.12\n\n### Repro steps\nEnable thinking for Anthropic models using LitellmModel.\n\n### Expected behavior\nThinking tokens are attached to the assistant message.\n",
          "closed_at": "2026-01-10T09:29:44Z",
          "comments": 6,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2195/comments",
          "created_at": "2025-12-16T19:15:38Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2195/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2195",
          "id": 3736015346,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "d73a4a",
              "default": true,
              "description": "Something isn't working",
              "id": 8274131139,
              "name": "bug",
              "node_id": "LA_kwDOOGidp88AAAAB7S04ww",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/bug"
            },
            {
              "color": "77cf69",
              "default": false,
              "description": "",
              "id": 8837302092,
              "name": "feature:chat-completions",
              "node_id": "LA_kwDOOGidp88AAAACDr6HTA",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:chat-completions"
            },
            {
              "color": "a95c3a",
              "default": false,
              "description": "",
              "id": 8837303575,
              "name": "feature:lite-llm",
              "node_id": "LA_kwDOOGidp88AAAACDr6NFw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:lite-llm"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2195/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87erxHy",
          "number": 2195,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2195/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2195/timeline",
          "title": "Thinking tokens are not attached in between turns to Claude with extended thinking",
          "type": null,
          "updated_at": "2026-01-10T09:29:44Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2195",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/5634261?v=4",
            "events_url": "https://api.github.com/users/willkoh/events{/privacy}",
            "followers_url": "https://api.github.com/users/willkoh/followers",
            "following_url": "https://api.github.com/users/willkoh/following{/other_user}",
            "gists_url": "https://api.github.com/users/willkoh/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/willkoh",
            "id": 5634261,
            "login": "willkoh",
            "node_id": "MDQ6VXNlcjU2MzQyNjE=",
            "organizations_url": "https://api.github.com/users/willkoh/orgs",
            "received_events_url": "https://api.github.com/users/willkoh/received_events",
            "repos_url": "https://api.github.com/users/willkoh/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/willkoh/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/willkoh/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/willkoh",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Please read this first\n\n- **Have you read the docs?**[Agents SDK docs](https://openai.github.io/openai-agents-python/) [Yes]\n- **Have you searched for related issues?** Others may have faced similar issues. [Yes]\n\n### Describe the bug\n\nWhen `nest_handoff_history` is enabled (which is the default behavior), the SDK summarizes the conversation history into a single assistant message containing `<CONVERSATION HISTORY>`. This summary correctly includes the handoff tool calls (`function_call`) and their outputs.\n\nHowever, the logic that filters the summarized items from the input history (in `agents.handoffs.history.nest_handoff_history`) only removes items where `role == \"assistant\"`. Since Tool Calls (`type=\"function_call\"`) and Tool Outputs (`type=\"function_call_output\"`) do not have a `role` attribute (or it is `None`), they are **NOT filtered out**.\n\nAs a result, the next agent receives inputs containing **duplicate** information:\n1. The \"Summary Message\" (which mentions the handoff tool call).\n2. The original \"Handoff Tool Call\" and \"Handoff Tool Output\" items in the raw message list.\n\nThis duplication causes the model to see the same action twice, confusing the context and consuming unnecessary tokens.\n\n### Debug information\n\n- Agents SDK version: ( `v0.6.2`)\n- Python version: 3.12\n\n### Repro steps\n\nRun the following script. It sets up `Agent A` to hand off to `Agent B`, and uses `call_model_input_filter` to inspect the actual input sent to `Agent B`. It requires a valid `OPENAI_API_KEY`.\n\n```python\nimport asyncio\nimport os\nfrom typing import Any\n\nfrom agents import Agent, Runner, RunConfig\nfrom agents.run import CallModelData, ModelInputData\n\n# Ensure OPENAI_API_KEY is set in your environment\nos.environ[\"OPENAI_API_KEY\"] = \"sk-proj-***\"\n\ndef check_duplication_filter(data: CallModelData[Any]) -> ModelInputData:\n    \"\"\"\n    Inspects the input for Agent B to check for duplicates.\n    \"\"\"\n    if data.agent.name == \"AgentB\":\n        print(f\"\\n=== Inspecting Input for {data.agent.name} ===\")\n        summary_found = False\n        tool_call_found = False\n        \n        inputs = data.model_data.input\n        for i, item in enumerate(inputs):\n            role = item.get('role')\n            msg_type = item.get('type')\n            content = str(item.get('content', '')).replace('\\n', ' ')\n            name = item.get('name', '')\n            print(f\"[{i}] role={role}, type={msg_type}, name={name}, content={content}...\")\n\n            # 1. Check for Summary Message\n            if role == \"assistant\" and \"<CONVERSATION HISTORY>\" in content:\n                summary_found = True\n            \n            # 2. Check for Raw Handoff Tool Call\n            if msg_type == \"function_call\" and \"transfer_to\" in name:\n                tool_call_found = True\n        \n        if summary_found and tool_call_found:\n            print(\"\\n[FAIL] Duplication detected: Both Summary and Raw Tool Call exist in input!\")\n        else:\n            print(\"\\n[PASS] No duplication detected.\")\n            \n    return data.model_data\n\nasync def main():\n    agent_b = Agent(\n        name=\"AgentB\", \n        instructions=\"You are Agent B. Just say hello.\"\n    )\n    \n    agent_a = Agent(\n        name=\"AgentA\", \n        instructions=\"You are Agent A. Just transfer to AgentB\",\n        handoffs=[agent_b]\n    )\n\n    print(\"Running reproduction flow...\")\n    \n    # Run Agent A and let it hand off to Agent B\n    await Runner.run(\n        agent_a, \n        \"Start conversation\", \n        run_config=RunConfig(\n            call_model_input_filter=check_duplication_filter\n        )\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n**Output:**\n```\nRunning reproduction flow...\n\n=== Inspecting Input for AgentB ===\n[0] role=assistant, type=None, name=, content=For context, here is the conversation so far between the user and the previous agent: <CONVERSATION HISTORY> 1. user: Start conversation 2. function_call: {\"arguments\": \"{}\", \"call_id\": \"call_DjTNgeg17pk5Y2c8peaG2i6Z\", \"name\": \"transfer_to_agentb\", \"id\": \"fc_025c33410193e02200693a4ad2e8e08190b56f9e509fc3dee9\", \"status\": \"completed\"} 3. function_call_output: {\"call_id\": \"call_DjTNgeg17pk5Y2c8peaG2i6Z\", \"output\": \"{\\\"assistant\\\": \\\"AgentB\\\"}\"} </CONVERSATION HISTORY>...\n[1] role=None, type=function_call, name=transfer_to_agentb, content=...\n[2] role=None, type=function_call_output, name=, content=...\n\n[FAIL] Duplication detected: Both Summary and Raw Tool Call exist in input!\n```\n\n### Expected behavior\n\nThe input list for the next agent (`Agent B`) should ONLY contain the summarized history message. The raw handoff tool calls and outputs should be removed from the input list because they are already represented in the `<CONVERSATION HISTORY>` summary.\n\n### Suggested Fix\n\nIn `agents/handoffs/history.py`, the filtering logic in `nest_handoff_history` should be updated to also filter out items based on their type, not just their role.\n\n```python\n    filtered_pre_items = tuple(\n        item\n        for item in handoff_input_data.pre_handoff_items\n        if _get_run_item_role(item) != \"assistant\" \n        and item.type not in (\"handoff_call_item\", \"handoff_output_item\", \"tool_call_item\", \"tool_call_output_item\")\n    )\n```",
          "closed_at": "2026-01-16T11:24:14Z",
          "comments": 3,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2171/comments",
          "created_at": "2025-12-11T04:40:55Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2171/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2171",
          "id": 3717727253,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "d73a4a",
              "default": true,
              "description": "Something isn't working",
              "id": 8274131139,
              "name": "bug",
              "node_id": "LA_kwDOOGidp88AAAAB7S04ww",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/bug"
            },
            {
              "color": "b2fdef",
              "default": false,
              "description": "",
              "id": 8837299420,
              "name": "feature:core",
              "node_id": "LA_kwDOOGidp88AAAACDr583A",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:core"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2171/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": null,
            "closed_issues": 2,
            "created_at": "2025-11-18T02:18:19Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/4",
            "id": 14163264,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/4/labels",
            "node_id": "MI_kwDOOGidp84A2B1A",
            "number": 4,
            "open_issues": 8,
            "state": "open",
            "title": "0.8.x",
            "updated_at": "2026-01-20T04:22:24Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/4"
          },
          "node_id": "I_kwDOOGidp87dmAQV",
          "number": 2171,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 1,
            "-1": 0,
            "confused": 0,
            "eyes": 1,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 2,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2171/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2171/timeline",
          "title": "Bug: Next agent receives duplicate history (summary + raw tool calls) when nest_handoff_history is enabled",
          "type": null,
          "updated_at": "2026-01-16T11:24:14Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2171",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/7621696?v=4",
            "events_url": "https://api.github.com/users/pokliu/events{/privacy}",
            "followers_url": "https://api.github.com/users/pokliu/followers",
            "following_url": "https://api.github.com/users/pokliu/following{/other_user}",
            "gists_url": "https://api.github.com/users/pokliu/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/pokliu",
            "id": 7621696,
            "login": "pokliu",
            "node_id": "MDQ6VXNlcjc2MjE2OTY=",
            "organizations_url": "https://api.github.com/users/pokliu/orgs",
            "received_events_url": "https://api.github.com/users/pokliu/received_events",
            "repos_url": "https://api.github.com/users/pokliu/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/pokliu/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/pokliu/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/pokliu",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Please read this first\n\n- **Have you read the docs?** [Agents SDK docs](https://openai.github.io/openai-agents-python/)\n- **Have you searched for related issues?** Yes\n\n### Describe the bug\nWhen running the LiteLLM example against DeepSeek‚Äôs thinking mode with tools([DeepSeek V3.2 Thinking mode](https://api-docs.deepseek.com/guides/thinking_mode)), the assistant tool-call message lacks the required `reasoning_content` field. DeepSeek responds with a 400 error: ‚ÄúMissing `reasoning_content` field in the assistant message ‚Ä¶‚Äù.\n\n### Debug information\n- Agents SDK version: current main (after latest changes)\n- Python version: Python 3.13\n\n### Repro steps\n```bash\nuv run examples/model_providers/litellm_provider.py \\\n  --model deepseek/deepseek-reasoner \\\n  --api-key <deepseek_api_key>\n```\n\nThe run fails after the tool call with a 400 complaining about missing reasoning_content.\n\n### Expected behavior\n\nAssistant tool-call turns should include reasoning_content so DeepSeek can continue thinking + tool calling and return a final answer without error.",
          "closed_at": "2026-01-19T01:25:46Z",
          "comments": 3,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2155/comments",
          "created_at": "2025-12-05T03:54:27Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2155/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2155",
          "id": 3697393885,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "7057ff",
              "default": true,
              "description": "Good for newcomers",
              "id": 8274131151,
              "name": "good first issue",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/good%20first%20issue"
            },
            {
              "color": "a95c3a",
              "default": false,
              "description": "",
              "id": 8837303575,
              "name": "feature:lite-llm",
              "node_id": "LA_kwDOOGidp88AAAACDr6NFw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:lite-llm"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2155/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87cYcDd",
          "number": 2155,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 4,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 4,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2155/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2155/timeline",
          "title": "LiteLLM DeepSeek thinking mode fails with missing `reasoning_conten` on tool calls",
          "type": null,
          "updated_at": "2026-01-19T01:25:46Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2155",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/126304946?v=4",
            "events_url": "https://api.github.com/users/Harrrryz/events{/privacy}",
            "followers_url": "https://api.github.com/users/Harrrryz/followers",
            "following_url": "https://api.github.com/users/Harrrryz/following{/other_user}",
            "gists_url": "https://api.github.com/users/Harrrryz/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/Harrrryz",
            "id": 126304946,
            "login": "Harrrryz",
            "node_id": "U_kgDOB4dCsg",
            "organizations_url": "https://api.github.com/users/Harrrryz/orgs",
            "received_events_url": "https://api.github.com/users/Harrrryz/received_events",
            "repos_url": "https://api.github.com/users/Harrrryz/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/Harrrryz/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Harrrryz/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/Harrrryz",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Please read this first\n\n- **Have you read the docs?**[Agents SDK docs](https://openai.github.io/openai-agents-python/)\n- **Have you searched for related issues?** Others may have faced similar issues.\n\n### Describe the bug\nGemini 3 Pro Preview (`google/gemini-3-pro-preview`) model requires` thought_signature` similar to response_id for subsequent calls. Using the Agent and Runner the `thought_signature` is not inject for next loop during call. I have tried to use RunHooks to receive full response from the model but unsuccessfully.\n\n```\nFile \"C:\\Users\\dom\\anaconda3\\envs\\genai\\Lib\\site-packages\\openai\\_base_client.py\", line 1594, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.BadRequestError: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because function call `default_api:get_current_temperature` in the 2. content block is missing a `thought_signature`. Learn more: https://docs.cloud.google.com/vertex-ai/generative-ai/docs/thought-signatures', 'status': 'INVALID_ARGUMENT'}}]\n```\n\n### Debug information\n- Agents SDK version: 0.6.1\n- Python version: 3.11.13\n- OpenAI version: 2.8.1\n\n\n### Repro steps\nThis snippet using plain OpenAI client returns the thouch_signarute but fails when use Agent and Runner\n\n- OpenAI library:\n```python\n# Create an async-compatible OpenAI client pointing to GOOGLE's endpoint\n# Set up the OpenAI client pointing to GOOGLE endpoint\nclient = OpenAI(\n    api_key=creds,\n    base_url=f\"https://aiplatform.googleapis.com/v1/projects/{PROJECT_ID}/locations/global/endpoints/openapi\",\n)\n\nprompt = \"\"\"\nIf it's too hot or too cold in London, set the temperature to a comfortable level.\nMake your own reasonable assumption for what 'comfortable' means and do not ask for clarification.\n\"\"\"\n\nmessages = [\n    {\"role\": \"user\", \"content\": prompt},\n]\n\nresponse1 = client.chat.completions.create(\n    model=MODEL_NAME,\n    messages=messages,\n    tools=tools,\n)\n\nprint(response1)\n```\n\nOUTPUT:\n```\nChatCompletion(id='3Kstacq6MerChcIPi9qngAE', choices=[Choice(finish_reason='tool_calls', index=0, logprobs=None, message=ChatCompletionMessage(content=None, refusal=None, role='assistant', annotations=None, audio=None, function_call=None, tool_calls=[ChatCompletionMessageFunctionToolCall(id='function-call-e37e486d-d21e-4203-a7d5-220fa5c27dac', function=Function(arguments='{\"location\":\"London\"}', name='get_current_temperature'), type='function', extra_content={'google': {'thought_signature': 'CsEJAePx/15yMy16yNn53ZP0RE9phQWHhzE3j+1x8uferf9Dy+JX2tyZBmZdKhWtPyWf+dsgYLFo3Q8Lt2jv+pmjePJCmsWkKicN4HH5YWF3BFRWzdvxHlQX8Gv+sRqG5dipCBC4+6MswHRuNmrkF9SZ7rNmHBIRhcsp0UvU9v78Fd3lag8VmB5bQSvTfQMZ4g1HEfBvCwW0BqWL6TJyBH/tPwEX4bQ29kOKxi6xvUfuj4wMcY81inYJ0xoDxTAeMrnAJitE8WQdrg3h+4QDuN7ZGp8u0L3lN1LLpX14VR7MDMBAmyvC39DIhVbTFLRWGb/O9O1kROE15jv5VQwBqUaBTbbmriynv8dpr9mBx3eqodvtBRUYKnG0LsrTXnurKP/gGT34wxuPOJGncyBN6puGBWgMDcpBWs5juvl4tlpca23x3IJjF2Ou2klgP38VxufwC3Vbqpd+dH8J5FZ/OmPNaL9nsUowgXxap8+QkNoU02rnKhIeykB7zZp/Vl4Ap/rJ1LVErz3aV/xec6v7NVBZyavwGsMM6Um9kg1YNWOLF2Fpock+oVJUnGNoEiLUqgIHHd5Ps3c90gFIL0ppKaoFQyTmS3fWX0wggQERqNkoL25tVC4Fa9lmYxMwNHtWZ7GmhfuWqp//m28NCPldN44dzwPATdW0BJDghj1uisFpKtuUXok437LT4ovzuTQ8iuegLM1pGVH+vwd/1KBHURnNe8US8m9E4dIQw9hFgA8ItG5COgXqlVkvPR2sLp0llQbUNDrKM5JwmyK8UKbrU3Un/tmvxSn0KrtBt3cLDVOKIUHRxQtoaI4T5eowJhbAxMGzXLjhScvNos9qM5OFmG1EgGo6ItCK9cvhgMVdk0ePLguzyFBsDTstFns/B8Q02dmeti27DqZWCxI3HJ41tDN4aJguu/4EPLlS55loW4dJVBh2g6IdT88N2uz6FQIrQULU10RbOGmGwNsIOnPBnb+lhD48U42HtgfEoFOuIU0GdHmxsIFzAb7b93/Gfyvy1MrZauZiFMZaiYxu43/Pg+VsGVsPze+zhtaxGBtr5gcLF6XDHENIKwSLW4/Cs4iBhxMtLPjR1tRbaFwLKo+tRqzv32xa1f/vowbahdLv42uFdY/NJuzqsCThoo9Z2E6S5wn6KbP/bGEgjL/KmF1S79qj9U1JCKVV8QKJlQacFdNBWSAHSqiTpIpJqVxiThf0DiW9jKQ5RuKUL8jDN9Ht07S4iAmES2Rg6VylasPibBanB99k71VBmlQR1SBmtGFxEqziPMZ5DWV4lrlgnYTCEM7rZcuaUgDwqDJioUTg2WW/l0M7CkPhM+cETcVEtJz/pY/QzmHQBMnxHRd9CQf1Sa3eZryJt+RygQe7OITwjvVB6izTdKRhBHAYZx3hjqCvrvwK9mso0jF5yXdnbGsGkQF9G79Ab144F+fpGJimcMnvaHI+PPfdndthVAgdLyYK8pTqum9JMco311eLJZBDPKEuMoHPutzVBRkNuU1mrST3iJ+x/O1p/DsApBbVKwFrYkkPWy0Y1hRTVmmRhqAfLqjBWA8eGrnnO9CZJWt+C1bKdUIBEmLJ4G+MKnqA2YI9/VxcYSP+axKDIH/BPiU7NGYpA2E='}})]))], created=1764600796, model='google/gemini-3-pro-preview', object='chat.completion', service_tier=None, system_fingerprint='', usage=CompletionUsage(completion_tokens=11, prompt_tokens=70, total_tokens=400, completion_tokens_details=CompletionTokensDetails(accepted_prediction_tokens=None, audio_tokens=None, reasoning_tokens=319, rejected_prediction_tokens=None), prompt_tokens_details=None, extra_properties={'google': {'traffic_type': 'ON_DEMAND'}}))\n```\n\n- Using OpenAI Agents SDK:\n\n```python\n# Create an async-compatible OpenAI client pointing to GOOGLE's endpoint\n# Set up the OpenAI client pointing to GOOGLE endpoint\nclient = AsyncOpenAI(\n    api_key=creds,\n    base_url=f\"https://aiplatform.googleapis.com/v1/projects/{PROJECT_ID}/locations/global/endpoints/openapi\",\n)\n\n# Define the orchestrator agent that routes tasks\nclimatizer_agent = Agent[SharedContext](\n    name=\"climatizer_agent\",\n    instructions=(\n        \"You are a smart home climatization agent. \"\n        \"Your task is to monitor the temperature in a given city and adjust the thermostat to maintain comfort. \"\n        \"Use the provided tools to read the current temperature and set a new thermostat value. \"\n        \"If the temperature is too high or too low, adjust it to a reasonable 'comfortable' value, \"\n        \"which you must assume without asking for clarification. \"\n        \"Consider comfortable indoor temperature to be around 20‚Äì22¬∞C (68‚Äì72¬∞F) unless otherwise specified. \"\n        \"Always perform actions using the tools and provide concise confirmation of the action taken.\"\n    ),\n    model=OpenAIChatCompletionsModel(model=MODEL_NAME, openai_client=client),\n    model_settings=ModelSettings(parallel_tool_calls=False, tool_choice='required', temperature=0, top_p=1.0),\n    tools=[function_tool(get_current_temperature), function_tool(set_thermostat_temperature),]\n)\n\nprompt = \"\"\"\nIf it's too hot or too cold in London, set the temperature to a comfortable level.\nMake your own reasonable assumption for what 'comfortable' means and do not ask for clarification.\n\"\"\"\n\ninvoke_inputs = [{\"role\": \"user\", \"content\": prompt}]\n\n\nasync def main():\n    while True:\n        try:\n            with trace(\"Climatization\"):\n                run_result = await Runner.run(climatizer_agent, input=invoke_inputs)\n                print(run_result)\n        except KeyboardInterrupt:\n            break\n```\n\nOUTPUT:\n```\nFile \"C:\\Users\\dom\\anaconda3\\envs\\genai\\Lib\\site-packages\\openai\\_base_client.py\", line 1594, in request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.BadRequestError: Error code: 400 - [{'error': {'code': 400, 'message': 'Unable to submit request because function call `default_api:get_current_temperature` in the 2. content block is missing a `thought_signature`. Learn more: https://docs.cloud.google.com/vertex-ai/generative-ai/docs/thought-signatures', 'status': 'INVALID_ARGUMENT'}}]\n```\n\n### Expected behavior\nA clear and concise description of what you expected to happen.\n",
          "closed_at": "2026-01-07T01:35:53Z",
          "comments": 6,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2137/comments",
          "created_at": "2025-12-01T15:14:40Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2137/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2137",
          "id": 3681485253,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "77cf69",
              "default": false,
              "description": "",
              "id": 8837302092,
              "name": "feature:chat-completions",
              "node_id": "LA_kwDOOGidp88AAAACDr6HTA",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:chat-completions"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2137/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87bbwHF",
          "number": 2137,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 1,
            "-1": 0,
            "confused": 1,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 2,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2137/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2137/timeline",
          "title": "Missing thought_signature when using Gemini 3 pro preview",
          "type": null,
          "updated_at": "2026-01-07T01:35:59Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2137",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/193485845?v=4",
            "events_url": "https://api.github.com/users/silvasw/events{/privacy}",
            "followers_url": "https://api.github.com/users/silvasw/followers",
            "following_url": "https://api.github.com/users/silvasw/following{/other_user}",
            "gists_url": "https://api.github.com/users/silvasw/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/silvasw",
            "id": 193485845,
            "login": "silvasw",
            "node_id": "U_kgDOC4hcFQ",
            "organizations_url": "https://api.github.com/users/silvasw/orgs",
            "received_events_url": "https://api.github.com/users/silvasw/received_events",
            "repos_url": "https://api.github.com/users/silvasw/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/silvasw/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/silvasw/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/silvasw",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "body": "### Please read this first\n\n- **Have you read the custom model provider docs, including the 'Common issues' section?** [Model provider docs](https://openai.github.io/openai-agents-python/models/#using-other-llm-providers)\n- **Have you searched for related issues?** Others may have faced similar issues.\n\n### Describe the question\nCan not use Gemini 3 model (`gemini/gemini-3-pro-preview`) via LiteLLM when there is a tool call, with or without `model_settings=ModelSettings(reasoning=Reasoning(effort=\"low\"))`. \n\n### Debug information\n- Agents SDK version: v0.6.1\n- Python version: 3.13\n\n### Repro steps\n```python\nfrom agents import Agent, ModelSettings, Runner, function_tool\nfrom agents.extensions.models.litellm_model import LitellmModel\nfrom openai.types.shared import Reasoning\n\n\n@function_tool\ndef echo_tool(input: str) -> str:\n    return input\n\n\nmodel = LitellmModel(\n    model=\"gemini/gemini-3-pro-preview\",\n    api_key=\"[API_KEY]\",\n)\nagent = Agent(\n    name=\"Assistant\",\n    instructions=\"You are a helpful assistant\",\n    model=model,\n    tools=[echo_tool],\n    # model_settings=ModelSettings(reasoning=Reasoning(effort=\"low\")),\n)\nresult = Runner.run_sync(\n    agent, \"Can you use the echo_tool to echo the message 'Hello, world!'?\"\n)\nprint(result.final_output)\n```\n\nIt prints\n```\nFunction call is missing a thought_signature in functionCall parts. This is required for tools to work correctly, and missing thought_signature may lead to degraded model performance. Additional data, function call `default_api:echo_tool` , position 2. please refer to https://ai.google.dev/gemini-api/docs/thought-signatures for more details.\n```\n",
          "closed_at": "2026-01-07T01:35:37Z",
          "comments": 7,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2109/comments",
          "created_at": "2025-11-20T01:31:27Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2109/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2109",
          "id": 3645017834,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "77cf69",
              "default": false,
              "description": "",
              "id": 8837302092,
              "name": "feature:chat-completions",
              "node_id": "LA_kwDOOGidp88AAAACDr6HTA",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:chat-completions"
            },
            {
              "color": "a95c3a",
              "default": false,
              "description": "",
              "id": 8837303575,
              "name": "feature:lite-llm",
              "node_id": "LA_kwDOOGidp88AAAACDr6NFw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:lite-llm"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2109/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87ZQo7q",
          "number": 2109,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 8,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 8,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2109/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2109/timeline",
          "title": "Gemini 3 is not supported via LiteLLM",
          "type": null,
          "updated_at": "2026-01-07T01:36:13Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2109",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/7867461?v=4",
            "events_url": "https://api.github.com/users/Nifury/events{/privacy}",
            "followers_url": "https://api.github.com/users/Nifury/followers",
            "following_url": "https://api.github.com/users/Nifury/following{/other_user}",
            "gists_url": "https://api.github.com/users/Nifury/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/Nifury",
            "id": 7867461,
            "login": "Nifury",
            "node_id": "MDQ6VXNlcjc4Njc0NjE=",
            "organizations_url": "https://api.github.com/users/Nifury/orgs",
            "received_events_url": "https://api.github.com/users/Nifury/received_events",
            "repos_url": "https://api.github.com/users/Nifury/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/Nifury/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Nifury/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/Nifury",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "body": "### Problem\nWhen a tool call contains invalid JSON arguments (e.g., missing closing brace), the session stores the invalid JSON string. This breaks the session with Anthropic models, as LiteLLM attempts to parse the arguments from JSON strings into JSONs (as per Anthropic API specs), and fails rightfully.\n\n### Root Cause\n1. Invalid JSON gets stored in session history in `tool_call.arguments`\n2. On reload, `chatcmpl_converter.py:527` passes the invalid JSON string directly to litellm\n3. litellm converts OpenAI format (JSON string) ‚Üí Anthropic format (dict) by calling `json.loads()`\n4. JSON parsing fails before tool invocation: `\"Expecting ',' delimiter: line 1 column 30\"`\n\n#### Note: \nCustom `FunctionTool` implementations can bypass the JSON validation that only happens in `_on_invoke_tool_impl` within `function_tool`, so this could cause unexpected behavior in those tools.\n\n\n### Repro Script:\n```py\n@function_tool\ndef get_server_time(format: str = \"%Y-%m-%d %H:%M:%S\") -> str:\n    \"\"\"\n    Returns the current server time, optionally in a specified format.\n    \"\"\"\n    return datetime.now().strftime(format)\n\n\nasync def main():\n    # Mimic session memory functionality.\n    input_list = [\n        {\"content\": \"What is the current server time?\", \"role\": \"user\"},\n        {\n            \"arguments\": '{\"format\":\"%Y-%m-%d %H:%M:%S\"',  # Invalid JSON on purpose\n            \"call_id\": \"call_9YhapDWwiCFcoGZilhyUo8ti\",\n            \"name\": \"get_server_time\",\n            \"type\": \"function_call\",\n            \"id\": \"fc_0e0babe7f7b9bf95006910adb438588193a96b6a1d917c77e7\",\n            \"status\": \"completed\",\n        },\n        {\n            \"call_id\": \"call_9YhapDWwiCFcoGZilhyUo8ti\",\n            \"output\": \"An error occurred while running the tool. Please try again. Error: Not implemented\",\n            \"type\": \"function_call_output\",\n        },\n        {\n            \"id\": \"msg_0e0babe7f7b9bf95006910adb5a4cc8193b5e3a1a171b76db1\",\n            \"content\": [\n                {\n                    \"annotations\": [],\n                    \"text\": \"I encountered an error trying to get the time now. Would you like me to try again?\",\n                    \"type\": \"output_text\",\n                    \"logprobs\": [],\n                }\n            ],\n            \"role\": \"assistant\",\n            \"status\": \"completed\",\n            \"type\": \"message\",\n        },\n    ]\n\n    agent = Agent(\n        name=\"Assistant\",\n        instructions=\"Reply very concisely.\",\n        model=\"litellm/anthropic/claude-haiku-4-5-20251001\",\n        tools=[get_server_time],\n    )\n\n    print(\"User: How about now?\")\n    result = await Runner.run(\n        agent,\n        input_list + [{\"content\": \"How about now?\", \"role\": \"user\"}],\n    )\n\n    print(result.final_output)\n```\n",
          "closed_at": "2026-01-20T01:46:31Z",
          "comments": 0,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2061/comments",
          "created_at": "2025-11-09T17:23:41Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2061/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2061",
          "id": 3605248506,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "d73a4a",
              "default": true,
              "description": "Something isn't working",
              "id": 8274131139,
              "name": "bug",
              "node_id": "LA_kwDOOGidp88AAAAB7S04ww",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/bug"
            },
            {
              "color": "77cf69",
              "default": false,
              "description": "",
              "id": 8837302092,
              "name": "feature:chat-completions",
              "node_id": "LA_kwDOOGidp88AAAACDr6HTA",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:chat-completions"
            },
            {
              "color": "a95c3a",
              "default": false,
              "description": "",
              "id": 8837303575,
              "name": "feature:lite-llm",
              "node_id": "LA_kwDOOGidp88AAAACDr6NFw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:lite-llm"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2061/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87W47n6",
          "number": 2061,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 1,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 1,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2061/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2061/timeline",
          "title": "Invalid JSON in tool call arguments breaks session with Anthropic models",
          "type": null,
          "updated_at": "2026-01-20T01:55:22Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2061",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/136383052?v=4",
            "events_url": "https://api.github.com/users/habema/events{/privacy}",
            "followers_url": "https://api.github.com/users/habema/followers",
            "following_url": "https://api.github.com/users/habema/following{/other_user}",
            "gists_url": "https://api.github.com/users/habema/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/habema",
            "id": 136383052,
            "login": "habema",
            "node_id": "U_kgDOCCEKTA",
            "organizations_url": "https://api.github.com/users/habema/orgs",
            "received_events_url": "https://api.github.com/users/habema/received_events",
            "repos_url": "https://api.github.com/users/habema/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/habema/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/habema/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/habema",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "### Describe the bug\nThe function calculate_audio_length_ms defined in realtime/_util.py has an issue:\n```\ndef calculate_audio_length_ms(format: RealtimeAudioFormat | None, audio_bytes: bytes) -> float:\n    if format and isinstance(format, str) and format.startswith(\"g711\"):\n        return (len(audio_bytes) / 8000) * 1000\n    return (len(audio_bytes) / 24 / 2) * 1000\n```\n\nif the audio is g711, it will answer a number of milllisecond; however, if the audio is 16bits 24kHz PCM, it will answer a number of microseconds.\n\n### Debug information\n- Agents SDK version: (e.g. `v0.4.2`)\n\n\n",
          "closed_at": "2026-01-08T06:57:34Z",
          "comments": 0,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2010/comments",
          "created_at": "2025-10-29T23:23:20Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2010/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2010",
          "id": 3568330026,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "d73a4a",
              "default": true,
              "description": "Something isn't working",
              "id": 8274131139,
              "name": "bug",
              "node_id": "LA_kwDOOGidp88AAAAB7S04ww",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/bug"
            },
            {
              "color": "d3cbd8",
              "default": false,
              "description": "",
              "id": 8929865814,
              "name": "feature:realtime",
              "node_id": "LA_kwDOOGidp88AAAACFELwVg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:realtime"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2010/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87UsGUq",
          "number": 2010,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2010/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2010/timeline",
          "title": "Typo in realtime code in calculate_audio_length_ms function",
          "type": null,
          "updated_at": "2026-01-08T06:58:07Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2010",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/3329961?v=4",
            "events_url": "https://api.github.com/users/nbondoux/events{/privacy}",
            "followers_url": "https://api.github.com/users/nbondoux/followers",
            "following_url": "https://api.github.com/users/nbondoux/following{/other_user}",
            "gists_url": "https://api.github.com/users/nbondoux/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/nbondoux",
            "id": 3329961,
            "login": "nbondoux",
            "node_id": "MDQ6VXNlcjMzMjk5NjE=",
            "organizations_url": "https://api.github.com/users/nbondoux/orgs",
            "received_events_url": "https://api.github.com/users/nbondoux/received_events",
            "repos_url": "https://api.github.com/users/nbondoux/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/nbondoux/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nbondoux/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/nbondoux",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "It is specified in the openai documentation that when the model is so that it uses the VAD to interrupt a response, the SDK will automatically truncate the response item. ([](https://openai.github.io/openai-agents-js/guides/voice-agents/build/#interruptions)).\nHowever, this is currently not done; when there is a speech_start event, the SDK will cancel the response, emit an RealtimeModelAudioInterruptedEvent, reset the latest_item from known by the playback track; however, no truncate event is sent to the server. The  realtime server thus never is never made aware of the interruption.\nNo truncated event is ever received, and the server is completely unaware some information was not given to the human.\n\n### Debug information\n- Agents SDK version: v0.4.2\n- Python version: 3.13\n\n\n### Expected behavior\nThe same process should be done than what is done in session.interrupt()",
          "closed_at": "2026-01-08T06:57:34Z",
          "comments": 1,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2009/comments",
          "created_at": "2025-10-29T23:12:58Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2009/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/2009",
          "id": 3568306643,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "d73a4a",
              "default": true,
              "description": "Something isn't working",
              "id": 8274131139,
              "name": "bug",
              "node_id": "LA_kwDOOGidp88AAAAB7S04ww",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/bug"
            },
            {
              "color": "d3cbd8",
              "default": false,
              "description": "",
              "id": 8929865814,
              "name": "feature:realtime",
              "node_id": "LA_kwDOOGidp88AAAACFELwVg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:realtime"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2009/labels{/name}",
          "locked": false,
          "milestone": {
            "closed_at": "2026-01-20T03:08:07Z",
            "closed_issues": 112,
            "created_at": "2025-11-05T04:29:41Z",
            "creator": {
              "avatar_url": "https://avatars.githubusercontent.com/u/19658?v=4",
              "events_url": "https://api.github.com/users/seratch/events{/privacy}",
              "followers_url": "https://api.github.com/users/seratch/followers",
              "following_url": "https://api.github.com/users/seratch/following{/other_user}",
              "gists_url": "https://api.github.com/users/seratch/gists{/gist_id}",
              "gravatar_id": "",
              "html_url": "https://github.com/seratch",
              "id": 19658,
              "login": "seratch",
              "node_id": "MDQ6VXNlcjE5NjU4",
              "organizations_url": "https://api.github.com/users/seratch/orgs",
              "received_events_url": "https://api.github.com/users/seratch/received_events",
              "repos_url": "https://api.github.com/users/seratch/repos",
              "site_admin": false,
              "starred_url": "https://api.github.com/users/seratch/starred{/owner}{/repo}",
              "subscriptions_url": "https://api.github.com/users/seratch/subscriptions",
              "type": "User",
              "url": "https://api.github.com/users/seratch",
              "user_view_type": "public"
            },
            "description": "",
            "due_on": null,
            "html_url": "https://github.com/openai/openai-agents-python/milestone/1",
            "id": 14053416,
            "labels_url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1/labels",
            "node_id": "MI_kwDOOGidp84A1nAo",
            "number": 1,
            "open_issues": 0,
            "state": "closed",
            "title": "0.6.x",
            "updated_at": "2026-01-20T03:08:07Z",
            "url": "https://api.github.com/repos/openai/openai-agents-python/milestones/1"
          },
          "node_id": "I_kwDOOGidp87UsAnT",
          "number": 2009,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2009/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/2009/timeline",
          "title": "Realtime agents: truncations not handled by the SDK when interrupt on VAD is set.",
          "type": null,
          "updated_at": "2026-01-08T06:58:04Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/2009",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/3329961?v=4",
            "events_url": "https://api.github.com/users/nbondoux/events{/privacy}",
            "followers_url": "https://api.github.com/users/nbondoux/followers",
            "following_url": "https://api.github.com/users/nbondoux/following{/other_user}",
            "gists_url": "https://api.github.com/users/nbondoux/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/nbondoux",
            "id": 3329961,
            "login": "nbondoux",
            "node_id": "MDQ6VXNlcjMzMjk5NjE=",
            "organizations_url": "https://api.github.com/users/nbondoux/orgs",
            "received_events_url": "https://api.github.com/users/nbondoux/received_events",
            "repos_url": "https://api.github.com/users/nbondoux/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/nbondoux/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/nbondoux/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/nbondoux",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "CONTRIBUTOR",
          "body": "### Please read this first\n\n- **Have you read the docs?**[Agents SDK docs](https://openai.github.io/openai-agents-python/) yes\n- **Have you searched for related issues?** yes\n\n### Question\nTool input/output guardrails (PR #1792) are implemented but not documented in the main guides.\n\n## Gaps\n- No mention in `docs/guardrails.md`\n- No user guide for implementing input/output guardrails\n- Only a minimal API ref at `docs/ref/tool_guardrails.md`\n\n## Current\n- Code: `src/agents/tool_guardrails.py`\n- Example: `examples/basic/tool_guardrails.py`\n- API ref: `docs/ref/tool_guardrails.md`\n\n## Expected\nMain docs should explain:\n- What tool guardrails are vs. agent-level guardrails  \n- How to add input & output guardrails  \n- When/why to use them  \n- Complete examples & use cases\n",
          "closed_at": "2026-01-17T07:10:54Z",
          "comments": 2,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/1830/comments",
          "created_at": "2025-09-29T11:31:59Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/1830/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/1830",
          "id": 3464538764,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "0075ca",
              "default": true,
              "description": "Improvements or additions to documentation",
              "id": 8274131143,
              "name": "documentation",
              "node_id": "LA_kwDOOGidp88AAAAB7S04xw",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/documentation"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/1830/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87OgKqM",
          "number": 1830,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 0,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 0,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/1830/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/1830/timeline",
          "title": "docs: add #1792 tool guardrails to the guardrails document page",
          "type": null,
          "updated_at": "2026-01-17T07:10:59Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/1830",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/160336057?v=4",
            "events_url": "https://api.github.com/users/AbdulSamad94/events{/privacy}",
            "followers_url": "https://api.github.com/users/AbdulSamad94/followers",
            "following_url": "https://api.github.com/users/AbdulSamad94/following{/other_user}",
            "gists_url": "https://api.github.com/users/AbdulSamad94/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/AbdulSamad94",
            "id": 160336057,
            "login": "AbdulSamad94",
            "node_id": "U_kgDOCY6IuQ",
            "organizations_url": "https://api.github.com/users/AbdulSamad94/orgs",
            "received_events_url": "https://api.github.com/users/AbdulSamad94/received_events",
            "repos_url": "https://api.github.com/users/AbdulSamad94/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/AbdulSamad94/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AbdulSamad94/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/AbdulSamad94",
            "user_view_type": "public"
          }
        },
        {
          "active_lock_reason": null,
          "assignee": null,
          "assignees": [],
          "author_association": "NONE",
          "body": "## Problem Description\n\nThe OpenAI Realtime API's MCP (Model Context Protocol) integration currently only supports a single authorization field for authentication with remote MCP servers. This limits integration with servers that require\ncustom headers such as X-API-KEY, multiple authentication headers, or other custom headers for routing, versioning, or identification.\n\n## Current Limitation\n\nThe current MCP configuration only allows:\n\n```\n{\n  \"type\": \"mcp\",\n  \"server_url\": \"https://example-mcp-server.com/mcp\",\n  \"authorization\": \"Bearer token\",  // Only supports Authorization header\n  \"server_label\": \"example\",\n  \"require_approval\": \"never\"\n}\n```\n\nThis translates to a single header:\n\nAuthorization: Bearer token\n\n## Real-World Authentication Scenarios Not Supported\n\nMany MCP servers and APIs use different authentication patterns:\n\n1. API Key Headers:\nX-API-KEY: your-api-key-here\n\n2. Multiple Auth Headers:\nX-Client-ID: client-123\nX-Client-Secret: secret-456\n\n3. Custom Headers for Routing/Versioning:\nX-API-Version: 2024-11-05\nX-Tenant-ID: tenant-123\nX-Environment: production\n\n4. Non-Bearer Authorization:\nAuthorization: ApiKey your-key-here\nAuthorization: Basic base64encoded\n\n\n## Feature Request\n\nAdd support for custom headers in MCP server configuration. This would allow developers to specify any headers required by their MCP servers.\n\n## Proposed Implementation\n\n### Option 1: Headers Object (Recommended)\n\n```\n{\n  \"type\": \"mcp\",\n  \"server_url\": \"https://example-mcp-server.com/mcp\",\n  \"server_label\": \"example\",\n  \"headers\": {\n    \"X-API-KEY\": \"your-api-key-here\",\n    \"X-Client-ID\": \"client-123\",\n    \"X-API-Version\": \"2024-11-05\"\n  },\n  \"require_approval\": \"never\"\n}\n```\n\n### Option 2: Headers Array\n\n```\n{\n  \"type\": \"mcp\",\n  \"server_url\": \"https://example-mcp-server.com/mcp\",\n  \"server_label\": \"example\",\n  \"headers\": [\n    {\"name\": \"X-API-KEY\", \"value\": \"your-api-key-here\"},\n    {\"name\": \"X-Client-ID\", \"value\": \"client-123\"}\n  ],\n  \"require_approval\": \"never\"\n}\n```\n\n### Option 3: Keep Authorization + Add Custom Headers\n\n```\n{\n  \"type\": \"mcp\",\n  \"server_url\": \"https://example-mcp-server.com/mcp\",\n  \"server_label\": \"example\",\n  \"authorization\": \"Bearer token\",  // Backward compatible\n  \"custom_headers\": {  // Additional headers\n    \"X-API-KEY\": \"additional-key\",\n    \"X-Tenant-ID\": \"tenant-123\"\n  },\n  \"require_approval\": \"never\"\n}\n```\n\n## Example Use Case from Our Implementation\n\nHere's how we currently have to work around this limitation by hardcoding our API key:\n\nFor example an MCP Server might expect:\n\nX-API-KEY: your-api-key-here\n\nBut we're forced to use:\n\nAuthorization: your-api-key-here\n\nThis requires specifically supporting only Authorization headers with Bearer tokens on your MCP Server, and if you're using someone else's and they don't support that exact setup you can't use the Realtime API with that MCP Server.\n\n## Benefits of This Feature\n\n1. Compatibility: Support MCP servers with existing authentication schemes\n2. Security: Allow proper multi-factor authentication with multiple headers\n3. Flexibility: Support enterprise scenarios with custom routing/tenant headers\n4. Standards Compliance: Many APIs use X-API-KEY as the standard for API key authentication\n5. No Server Modifications: Connect to existing MCP servers without modifications\n\n## Impact\n\nThis is a backward-compatible enhancement that would:\n\n‚Ä¢ Keep existing authorization field for simple Bearer token cases\n‚Ä¢ Add optional headers field for advanced use cases\n‚Ä¢ Significantly expand the number of MCP servers that can integrate with Realtime API\n\n## Request Summary\n\nPlease add support for custom headers in MCP server configuration for the Realtime API. This would remove a significant limitation and allow integration with MCP servers that use standard API authentication\npatterns beyond Bearer tokens.",
          "closed_at": "2026-01-16T08:12:47Z",
          "comments": 3,
          "comments_url": "https://api.github.com/repos/openai/openai-agents-python/issues/1609/comments",
          "created_at": "2025-08-29T01:25:39Z",
          "events_url": "https://api.github.com/repos/openai/openai-agents-python/issues/1609/events",
          "html_url": "https://github.com/openai/openai-agents-python/issues/1609",
          "id": 3365124003,
          "issue_dependencies_summary": {
            "blocked_by": 0,
            "blocking": 0,
            "total_blocked_by": 0,
            "total_blocking": 0
          },
          "labels": [
            {
              "color": "a2eeef",
              "default": true,
              "description": "New feature or request",
              "id": 8274131149,
              "name": "enhancement",
              "node_id": "LA_kwDOOGidp88AAAAB7S04zQ",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/enhancement"
            },
            {
              "color": "307a20",
              "default": false,
              "description": "",
              "id": 8837301128,
              "name": "feature:mcp",
              "node_id": "LA_kwDOOGidp88AAAACDr6DiA",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:mcp"
            },
            {
              "color": "d3cbd8",
              "default": false,
              "description": "",
              "id": 8929865814,
              "name": "feature:realtime",
              "node_id": "LA_kwDOOGidp88AAAACFELwVg",
              "url": "https://api.github.com/repos/openai/openai-agents-python/labels/feature:realtime"
            }
          ],
          "labels_url": "https://api.github.com/repos/openai/openai-agents-python/issues/1609/labels{/name}",
          "locked": false,
          "milestone": null,
          "node_id": "I_kwDOOGidp87Ik7ej",
          "number": 1609,
          "performed_via_github_app": null,
          "reactions": {
            "+1": 13,
            "-1": 0,
            "confused": 0,
            "eyes": 0,
            "heart": 0,
            "hooray": 0,
            "laugh": 0,
            "rocket": 0,
            "total_count": 13,
            "url": "https://api.github.com/repos/openai/openai-agents-python/issues/1609/reactions"
          },
          "repository_url": "https://api.github.com/repos/openai/openai-agents-python",
          "score": 1.0,
          "state": "closed",
          "state_reason": "completed",
          "sub_issues_summary": {
            "completed": 0,
            "percent_completed": 0,
            "total": 0
          },
          "timeline_url": "https://api.github.com/repos/openai/openai-agents-python/issues/1609/timeline",
          "title": "Feature Request: Support Custom Headers for MCP Servers in OpenAI Realtime API",
          "type": null,
          "updated_at": "2026-01-16T09:05:42Z",
          "url": "https://api.github.com/repos/openai/openai-agents-python/issues/1609",
          "user": {
            "avatar_url": "https://avatars.githubusercontent.com/u/3247978?v=4",
            "events_url": "https://api.github.com/users/mattlgroff/events{/privacy}",
            "followers_url": "https://api.github.com/users/mattlgroff/followers",
            "following_url": "https://api.github.com/users/mattlgroff/following{/other_user}",
            "gists_url": "https://api.github.com/users/mattlgroff/gists{/gist_id}",
            "gravatar_id": "",
            "html_url": "https://github.com/mattlgroff",
            "id": 3247978,
            "login": "mattlgroff",
            "node_id": "MDQ6VXNlcjMyNDc5Nzg=",
            "organizations_url": "https://api.github.com/users/mattlgroff/orgs",
            "received_events_url": "https://api.github.com/users/mattlgroff/received_events",
            "repos_url": "https://api.github.com/users/mattlgroff/repos",
            "site_admin": false,
            "starred_url": "https://api.github.com/users/mattlgroff/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mattlgroff/subscriptions",
            "type": "User",
            "url": "https://api.github.com/users/mattlgroff",
            "user_view_type": "public"
          }
        }
      ],
      "total_count": 32
    },
    "status": 200
  },
  "started_at": "2026-01-20T04:52:55.250383Z"
}
